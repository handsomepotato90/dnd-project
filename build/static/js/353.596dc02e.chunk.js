"use strict";(self.webpackChunkdnd_project=self.webpackChunkdnd_project||[]).push([[353],{1342:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(4165),s=n(2982),a=n(5861),o=n(885),c=n(2791),i=n(4097),l=n(7774),u=n(9138),d=n(6871),_=n(3504),m="MyUploads_edit_link__style__4Lx3s",p="MyUploads_name_plate__style__GdigM",f="MyUploads_edit_button__style__pAKvl",x="MyUploads_delete_btn__style__jol91",h="MyUploads_search_bar__style__LBBQA",y="MyUploads_voting_status__style__q+2RF",v=n(184);function j(e){return(0,v.jsx)(_.rU,{className:"".concat(m),to:"/myProfile/MyUploads/Edit/".concat(e.id),children:(0,v.jsx)("button",{className:"".concat(f," button"),children:"Edit"})})}var k=n(5294),b=n(6510),g=n(2790),Z=n(485),C=n(1794),S=n(3886);function N(){var e,t=(0,i.x)(),n=t.isLoading,_=t.error,m=t.sendRequest,N=t.clearError,M=(0,c.useContext)(l.O),E=(0,c.useState)(""),U=(0,o.Z)(E,2),w=U[0],B=U[1],P=(0,c.useState)([]),T=(0,o.Z)(P,2),A=T[0],I=T[1],O=(0,c.useState)(!1),D=(0,o.Z)(O,2),R=D[0],q=D[1],F=(0,c.useState)(!1),L=(0,o.Z)(F,2),z=L[0],G=L[1],K=(0,c.useState)(""),Q=(0,o.Z)(K,2),Y=Q[0],J=Q[1],V=(0,c.useState)(20),H=(0,o.Z)(V,2),W=H[0],X=(H[1],(0,d.s0)()),$=(new Date).getTime();(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("https://danddragon.herokuapp.com/myProfile/MyUploads","POST",JSON.stringify({user:M.userId,limit:W,name:w}),{"Content-Type":"application/json"});case 3:t=e.sent,I((0,s.Z)(t)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[m,M.userId,W,w]);var ee=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=12;break}return e.prev=1,G(!1),e.next=5,m("https://danddragon.herokuapp.com"+"/MyProfile/MyUploads/".concat(Y),"DELETE",null,{Authorization:"Bearer "+M.token});case 5:q(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:e.next=13;break;case 12:G(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return console.log(A),(0,v.jsxs)(v.Fragment,{children:[n&&(0,v.jsx)(u.Z,{as0verlay:!0}),_&&(0,v.jsx)(g.Z,{header:"An Error Occurred",error:_,onClick:function(){N(null)}}),z&&(0,v.jsx)(k.Z,{title:"Are you shure you whant to delete this Creature?",onClick:ee}),R&&(0,v.jsx)(b.Z,{onClick:function(){X("/")},title:"Creature Deleted",text:"Your creature has been deleted successfully"}),(0,v.jsx)("input",{className:h,onKeyUp:function(t){e&&clearTimeout(e),e=setTimeout((function(){B(t.target.value)}),1e3)},placeholder:"Search"}),(0,v.jsx)(C.Z,{children:A.map((function(e,t){return(0,v.jsxs)(Z.Z,{childrenTopAndBottom:!0,battleSideBar:!1,stats:e,modalStats:!0,width:"265px",height:"250px",children:[(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)(S.Z,{name:e.name}),(0,v.jsx)("span",{className:"".concat(e.timeforvoting>$?"grey":e.votes.number>0||void 0===e.votes.number?"green":"red"," \n                  ").concat(y),children:e.timeforvoting>$?"Ongoing":e.votes.number>0||void 0===e.votes.number?"Accepted":"Rejected"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(j,{id:e._id}),(0,v.jsxs)("button",{className:"".concat(x," ").concat(f," button"),onClick:function(){return t=e._id,G(!0),void J(t);var t},children:[" ","Delete"]})]})]},t)}))})]})}},5294:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(2791),s=n(4164),a=n(5730),o="Confirmation_btn__qOqTa",c="Confirmation_modal_big_box__style__QrDVi",i="Confirmation_confirm__style__ZM4vu",l="Confirmation_reject__style__Rdmy8",u=n(184);function d(e){var t=function(t){e.onClick(t)};return(0,u.jsxs)(r.Fragment,{children:[s.createPortal((0,u.jsx)(a.Z,{onClick:e.onClick}),document.getElementById("backdrop-root")),s.createPortal((0,u.jsxs)("div",{className:c,children:[(0,u.jsx)("span",{children:e.title}),(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{className:"".concat(o," ").concat(i),onClick:function(){return t(!0)},children:"Yes"}),(0,u.jsx)("button",{className:"".concat(o," ").concat(l),onClick:function(){return t(!1)},children:"No"})]})]}),document.getElementById("overlay-root"))]})}},6510:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(2791),s=n(4164),a=n(5730),o="SuccesfulSubmission_modal_big_box__style__SRsom",c="SuccesfulSubmission_big_text__style__y9eZf",i="SuccesfulSubmission_text__style__puluz",l="SuccesfulSubmission_image__style__C7TpP",u=n.p+"static/media/green_check_mark.a03da16a3097c38b2a84.png",d=n(184);function _(e){return(0,d.jsxs)("div",{onClick:function(){return e.onClick(!1)},className:o,children:[(0,d.jsx)("img",{className:l,src:u,alt:"check mark"}),(0,d.jsx)("span",{className:c,children:e.title}),(0,d.jsx)("span",{className:i,children:e.text})]})}function m(e){return(0,d.jsxs)(r.Fragment,{children:[s.createPortal((0,d.jsx)(a.Z,{onClick:e.onClick}),document.getElementById("backdrop-root")),s.createPortal((0,d.jsx)(_,{onClick:e.onClick,monsterStats:e.monsterStats,title:e.title,text:e.text}),document.getElementById("overlay-root"))]})}},3886:function(e,t,n){n.d(t,{Z:function(){return a}});var r="MonsterName_name_plate__-BGp6",s=n(184);function a(e){return(0,s.jsx)("span",{className:"".concat(r," overflowing"),children:e.name})}}}]);
//# sourceMappingURL=353.596dc02e.chunk.js.map