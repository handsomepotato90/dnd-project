"use strict";(self.webpackChunkdnd_project=self.webpackChunkdnd_project||[]).push([[570],{2537:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(4165),c=t(2982),o=t(5861),a=t(885),s=t(2791),u=t(80),i=t(7774),l=t(3773),d=t(4097),f=t(9138),p=t(6510),h=t(6871),_=t(2790),x=t(5294),k=t(184);function m(){var e=(0,s.useContext)(i.O),n=(0,d.x)(),t=n.isLoading,m=n.error,Z=n.sendRequest,j=n.clearError,b=(0,s.useState)([]),v=(0,a.Z)(b,2),C=v[0],y=v[1],E=(0,s.useState)([]),g=(0,a.Z)(E,2),w=g[0],N=g[1],A=(0,s.useState)(!1),S=(0,a.Z)(A,2),B=S[0],D=S[1],O=(0,s.useState)(!1),F=(0,a.Z)(O,2),L=F[0],Y=F[1],q=window.location.href.split("battle_scr/"),z=(0,h.s0)();(0,s.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z("https://danddragon.herokuapp.com"+"/battle_scr/".concat(q[1]));case 3:n=e.sent,t=[],n.monsters.forEach((function(e){t.push.apply(t,(0,c.Z)(e)),y([].concat(t))})),N(n.players),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[Z]);var H=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==t){n.next=12;break}return n.prev=1,Y(!1),n.next=5,Z("https://danddragon.herokuapp.com"+"/battle_scr/".concat(q[1]),"DELETE",null,{Authorization:"Bearer "+e.token});case 5:D(!0),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(1);case 10:n.next=13;break;case 12:Y(!1);case 13:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}();return console.log(C),console.log(w),(0,k.jsxs)(k.Fragment,{children:[L&&(0,k.jsx)(x.Z,{title:"Are you shure that you whant to delete this Encounter?",onClick:H}),m&&(0,k.jsx)(_.Z,{header:"An Error Occurred",error:m,onClick:function(){j(null)}}),B&&(0,k.jsx)(p.Z,{onClick:function(){z("/")},title:"Encounter Deleted",text:"Your encounter has been deleted successfully"}),t&&(0,k.jsx)(f.Z,{asOverlay:!0}),(0,k.jsxs)("div",{className:u.Z.display__style,children:[C.map((function(e,n){return(0,k.jsx)(l.Z,{stats:e},n)})),w.map((function(e,n){return(0,k.jsx)(l.Z,{players:e},n)}))]}),(0,k.jsx)("div",{className:u.Z.delete_btn__holder,children:(0,k.jsxs)("button",{className:"".concat(u.Z.delete_btn__style," button"),onClick:function(){Y(!0)},children:[" ","Delete Encounter"]})})]})}},5294:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(2791),c=t(4164),o=t(5730),a="Confirmation_btn__lddQ2",s="Confirmation_modal_big_box__style__a-CgK",u="Confirmation_confirm__style__ij0BH",i="Confirmation_reject__style__erAtf",l=t(184);function d(e){var n=function(n){e.onClick(n)};return(0,l.jsxs)(r.Fragment,{children:[c.createPortal((0,l.jsx)(o.Z,{onClick:e.onClick}),document.getElementById("backdrop-root")),(0,l.jsxs)("div",{className:s,children:[(0,l.jsx)("span",{children:e.title}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{className:"".concat(a," ").concat(u),onClick:function(){return n(!0)},children:"Yes"}),(0,l.jsx)("button",{className:"".concat(a," ").concat(i),onClick:function(){return n(!1)},children:"No"})]})]})]})}}}]);
//# sourceMappingURL=570.a9fbd190.chunk.js.map