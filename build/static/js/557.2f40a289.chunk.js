"use strict";(self.webpackChunkdnd_project=self.webpackChunkdnd_project||[]).push([[557],{8557:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var n=s(4165),o=s(2982),r=s(5861),i=s(885),a=s(2791),c=s(4097),l=s(7774),u=s(1794),_=s(3504),f=s(2702),d=s(2949),p=s(184);function m(e){var t=(new Date).getTime();return e.sessionInfo.map((function(s,n){return(0,p.jsx)(u.Z,{children:(0,p.jsx)(_.rU,{to:"/myProfile/Sessions/".concat(e.destination,"/").concat(s._id),children:(0,p.jsxs)("div",{className:"".concat(d.Z.session_all__style,"  ").concat((o=s.status,"CLOSED"===o?d.Z.user_session__style:"OPEN"===o?d.Z.invited_session__style:"SCHEDULED"===o?d.Z.scheduled_session__style:void 0)),children:[(0,p.jsxs)("span",{className:"".concat(d.Z.text__inside__style),children:[" ",(0,p.jsxs)("span",{className:"OPEN"===s.status?"green_text":"CLOSED"===s.status?"grey_text":"red_text",children:[s.status,s.scheduledFor.length>0&&(0,p.jsxs)("span",{children:[" FOR: ",new Date(s.scheduledFor).getDate(),"/",new Date(s.scheduledFor).getMonth()+1]})]})]}),(0,p.jsxs)("span",{className:"".concat(d.Z.text__inside__style," overflowing"),children:[" ",s.title]}),(0,p.jsx)("span",{className:"".concat(d.Z.text__inside__style," overflowing"),children:s.creatorName}),(0,p.jsx)("span",{className:"".concat(d.Z.text__inside__style),children:s.timeforvoting<=t||"SCHEDULED"===s.status||"CLOSED"===s.status?" Voting Finished":(0,p.jsx)(f.ZP,{date:s.timeforvoting})})]})})},n);var o}))}var y=s(2790),h=s(9138),v=s(7976);function S(e){var t=(0,a.useState)([]),s=(0,i.Z)(t,2),_=s[0],f=s[1],d=(0,a.useState)([]),S=(0,i.Z)(d,2),T=S[0],b=S[1],D=(0,c.x)(),g=D.isLoading,x=D.error,w=D.sendRequest,C=D.clearError,P=(0,a.useContext)(l.O);return(0,a.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("https://danddragon.herokuapp.com/myProfile/Sessions/AllSessions","POST",JSON.stringify({id:P.userId}),{"Content-Type":"application/json"});case 3:t=e.sent,b((0,o.Z)(t.mysessions)),f((0,o.Z)(t.sessions)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[w]),(0,p.jsxs)("div",{className:v.Z.all_sessions__style,children:[x&&(0,p.jsx)(y.Z,{header:"An Error Occurred",error:x,onClick:function(){C(null)}}),(0,p.jsxs)(u.Z,{fromStart:!0,children:[(0,p.jsx)("span",{className:v.Z.box_name__style,children:"Sessions Started by you"}),(0,p.jsx)(m,{destination:"MySessions",className:"red",sessionInfo:T})]}),(0,p.jsxs)(u.Z,{fromStart:!0,children:[(0,p.jsx)("span",{className:v.Z.box_name__style,children:"Invites"}),(0,p.jsx)(m,{destination:"AllSessions",className:"green",sessionInfo:_})]}),g&&(0,p.jsx)(h.Z,{as0verlay:!0})]})}},1794:function(e,t,s){s.d(t,{Z:function(){return a}});var n="ConteinerBox_container_box__style__C8d7G",o="ConteinerBox_fromStart__FCHBa",r="ConteinerBox_fromEnd__6CJVd",i=s(184);function a(e){return(0,i.jsx)("div",{className:"".concat(n," ").concat(e.fromStart&&o," ").concat(e.fromEnd&&r),children:e.children})}},2702:function(e,t,s){var n=s(2791),o=s(2007);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function _(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=l(e);if(t){var o=l(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return _(this,s)}}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=String(e);if(0===t)return s;var n=s.match(/(.*?)([0-9]+)(.*)/),o=n?n[1]:"",r=n?n[3]:"",i=n?n[2]:s,a=i.length>=t?i:(d(Array(t)).map((function(){return"0"})).join("")+i).slice(-1*t);return"".concat(o).concat(a).concat(r)}var y={daysInHours:!1,zeroPadTime:2};function h(e,t){var s=e.days,n=e.hours,o=e.minutes,r=e.seconds,i=Object.assign(Object.assign({},y),t),a=i.daysInHours,c=i.zeroPadTime,l=i.zeroPadDays,u=void 0===l?c:l,_=Math.min(2,c),f=a?m(n+24*s,c):m(n,_);return{days:a?"":m(s,u),hours:f,minutes:m(o,_),seconds:m(r,_)}}var v=function(e){c(s,e);var t=f(s);function s(){var e;return r(this,s),(e=t.apply(this,arguments)).state={count:e.props.count||3},e.startCountdown=function(){e.interval=window.setInterval((function(){0===e.state.count-1?(e.stopCountdown(),e.props.onComplete&&e.props.onComplete()):e.setState((function(e){return{count:e.count-1}}))}),1e3)},e.stopCountdown=function(){clearInterval(e.interval)},e.addTime=function(t){e.stopCountdown(),e.setState((function(e){return{count:e.count+t}}),e.startCountdown)},e}return a(s,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?(0,n.cloneElement)(this.props.children,{count:this.state.count}):null}}]),s}(n.Component);v.propTypes={count:o.number,children:o.element,onComplete:o.func};var S=function(e){c(s,e);var t=f(s);function s(e){var o;if(r(this,s),(o=t.call(this,e)).mounted=!1,o.initialTimestamp=o.calcOffsetStartTimestamp(),o.offsetStartTimestamp=o.props.autoStart?0:o.initialTimestamp,o.offsetTime=0,o.legacyMode=!1,o.legacyCountdownRef=(0,n.createRef)(),o.tick=function(){var e=o.calcTimeDelta(),t=e.completed&&!o.props.overtime?void 0:o.props.onTick;o.setTimeDeltaState(e,void 0,t)},o.start=function(){if(!o.isStarted()){var e=o.offsetStartTimestamp;o.offsetStartTimestamp=0,o.offsetTime+=e?o.calcOffsetStartTimestamp()-e:0;var t=o.calcTimeDelta();o.setTimeDeltaState(t,"STARTED",o.props.onStart),o.props.controlled||t.completed&&!o.props.overtime||(o.clearTimer(),o.interval=window.setInterval(o.tick,o.props.intervalDelay))}},o.pause=function(){o.isPaused()||(o.clearTimer(),o.offsetStartTimestamp=o.calcOffsetStartTimestamp(),o.setTimeDeltaState(o.state.timeDelta,"PAUSED",o.props.onPause))},o.stop=function(){o.isStopped()||(o.clearTimer(),o.offsetStartTimestamp=o.calcOffsetStartTimestamp(),o.offsetTime=o.offsetStartTimestamp-o.initialTimestamp,o.setTimeDeltaState(o.calcTimeDelta(),"STOPPED",o.props.onStop))},o.isStarted=function(){return o.isStatus("STARTED")},o.isPaused=function(){return o.isStatus("PAUSED")},o.isStopped=function(){return o.isStatus("STOPPED")},o.isCompleted=function(){return o.isStatus("COMPLETED")},e.date){var i=o.calcTimeDelta();o.state={timeDelta:i,status:i.completed?"COMPLETED":"STOPPED"}}else o.legacyMode=!0;return o}return a(s,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(e){this.legacyMode||this.props.date!==e.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var e=this.props,t=e.date,s=e.now,n=e.precision,o=e.controlled,r=e.overtime;return function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.now,o=void 0===n?Date.now:n,r=s.precision,i=void 0===r?0:r,a=s.controlled,c=s.offsetTime,l=void 0===c?0:c,u=s.overtime;t="string"===typeof e?new Date(e).getTime():e instanceof Date?e.getTime():e,a||(t+=l);var _=a?t:t-o(),f=Math.min(20,Math.max(0,i)),d=Math.round(1e3*parseFloat(((u?_:Math.max(0,_))/1e3).toFixed(f))),p=Math.abs(d)/1e3;return{total:d,days:Math.floor(p/86400),hours:Math.floor(p/3600%24),minutes:Math.floor(p/60%60),seconds:Math.floor(p%60),milliseconds:Number((p%1*1e3).toFixed()),completed:d<=0}}(t,{now:s,precision:n,controlled:o,offsetTime:this.offsetTime,overtime:r})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(e){this.legacyCountdownRef.current.addTime(e)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(e){return this.state.status===e}},{key:"setTimeDeltaState",value:function(e,t,s){var n=this;if(this.mounted){var o=e.completed&&!this.state.timeDelta.completed,r=e.completed&&"STARTED"===t;o&&!this.props.overtime&&this.clearTimer();return this.setState((function(s){var o=t||s.status;return e.completed&&!n.props.overtime?o="COMPLETED":t||"COMPLETED"!==o||(o="STOPPED"),{timeDelta:e,status:o}}),(function(){s&&s(n.state.timeDelta),n.props.onComplete&&(o||r)&&n.props.onComplete(e,r)}))}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e=this.props,t=e.daysInHours,s=e.zeroPadTime,n=e.zeroPadDays,o=this.state.timeDelta;return Object.assign(Object.assign({},o),{api:this.getApi(),props:this.props,formatted:h(o,{daysInHours:t,zeroPadTime:s,zeroPadDays:n})})}},{key:"render",value:function(){if(this.legacyMode){var e=this.props,t=e.count,s=e.children,o=e.onComplete;return(0,n.createElement)(v,{ref:this.legacyCountdownRef,count:t,onComplete:o},s)}var r=this.props,i=r.className,a=r.overtime,c=r.children,l=r.renderer,u=this.getRenderProps();if(l)return l(u);if(c&&this.state.timeDelta.completed&&!a)return(0,n.cloneElement)(c,{countdown:u});var _=u.formatted,f=_.days,d=_.hours,p=_.minutes,m=_.seconds;return(0,n.createElement)("span",{className:i},u.total<0?"-":"",f,f?":":"",d,":",p,":",m)}}]),s}(n.Component);S.defaultProps=Object.assign(Object.assign({},y),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0}),S.propTypes={date:(0,o.oneOfType)([(0,o.instanceOf)(Date),o.string,o.number]),daysInHours:o.bool,zeroPadTime:o.number,zeroPadDays:o.number,controlled:o.bool,intervalDelay:o.number,precision:o.number,autoStart:o.bool,overtime:o.bool,className:o.string,children:o.element,renderer:o.func,now:o.func,onMount:o.func,onStart:o.func,onPause:o.func,onStop:o.func,onTick:o.func,onComplete:o.func},t.ZP=S},7976:function(e,t){t.Z={all_sessions__style:"Sessions_all_sessions__style__hGKpA",box_name__style:"Sessions_box_name__style__jhmNO",calendar_and_other___style:"Sessions_calendar_and_other___style__KCzl+",check_box__style:"Sessions_check_box__style__19B3o",upload_button__style:"Sessions_upload_button__style__vrIcr"}},2949:function(e,t){t.Z={session_all__style:"sessionUi_session_all__style__Lz5Nd",user_session__style:"sessionUi_user_session__style__6n8Uy",invited_session__style:"sessionUi_invited_session__style__DzoA8",scheduled_session__style:"sessionUi_scheduled_session__style__MCB7e",text__inside__style:"sessionUi_text__inside__style__IPShv",info_about_session__style:"sessionUi_info_about_session__style__kQwwU",countdown__style:"sessionUi_countdown__style__F+cQZ",organiser__span__style:"sessionUi_organiser__span__style__-2bLP",comment__input__style:"sessionUi_comment__input__style__QLLb6",general_comment__style:"sessionUi_general_comment__style__PQvpl",username__style:"sessionUi_username__style__MyuZe",text__style:"sessionUi_text__style__ZSVuC",sameuser__style:"sessionUi_sameuser__style__zs0da",general_style:"sessionUi_general_style__G-JyT",sameuser__bcccolor__style:"sessionUi_sameuser__bcccolor__style__N11UC",diffuser__style:"sessionUi_diffuser__style__HEhWV",diffuser__bcccolor__style:"sessionUi_diffuser__bcccolor__style__hFRd7",schedule_buttons__style:"sessionUi_schedule_buttons__style__Dw-fb",comment__big_box_holder:"sessionUi_comment__big_box_holder__smqUT"}}}]);
//# sourceMappingURL=557.2f40a289.chunk.js.map