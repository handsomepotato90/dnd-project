"use strict";(self.webpackChunkdnd_project=self.webpackChunkdnd_project||[]).push([[80],{6853:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(4165),c=n(2982),o=n(5861),s=n(885),i=n(2791),a=n(4097),l=n(7774),u=n(9138),_="MyProfile_monster_holder__style__H1KFy",d="MyProfile_red__LqUtI",f="MyProfile_green__y5eUO",m="MyProfile_grey__d2LBG",h="MyProfile_edit_link__style__3FwXQ",x="MyProfile_edit_button__style__XPsDl",p="MyProfile_delete_btn__style__fEYUw",y="MyProfile_btn_load_more__9-kZt",j="MyProfile_search_bar__style__iS-up",b="MyProfile_voting_status__style__prUjt",k=n(6871),v=n(3504),g=n(184);function C(e){return(0,g.jsx)(v.rU,{className:"".concat(h),to:"/myProfile/Edit/".concat(e.id),children:(0,g.jsx)("button",{className:"".concat(x," button"),children:"Edit"})})}var Z=n(5294),S=n(6510),P=n(2790),N=n(374);function E(){var e,t=(0,a.x)(),n=t.isLoading,h=t.error,v=t.sendRequest,E=t.clearError,w=(0,i.useContext)(l.O),M=(0,i.useState)(""),B=(0,s.Z)(M,2),A=B[0],F=B[1],T=(0,i.useState)([]),I=(0,s.Z)(T,2),O=I[0],U=I[1],D=(0,i.useState)(!1),L=(0,s.Z)(D,2),K=L[0],H=L[1],R=(0,i.useState)(!1),X=(0,s.Z)(R,2),Y=X[0],q=X[1],Q=(0,i.useState)(""),z=(0,s.Z)(Q,2),G=z[0],J=z[1],W=(0,i.useState)(20),V=(0,s.Z)(W,2),$=V[0],ee=V[1],te=(0,k.s0)(),ne=(new Date).getTime();(0,i.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("https://danddragon.herokuapp.com/myProfile","POST",JSON.stringify({user:w.userId,limit:$,name:A}),{"Content-Type":"application/json"});case 3:t=e.sent,U((0,c.Z)(t)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[v,w.userId,$,A]);var re=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=12;break}return e.prev=1,q(!1),e.next=5,v("https://danddragon.herokuapp.com"+"/myProfile/".concat(G),"DELETE",null,{Authorization:"Bearer "+w.token});case 5:H(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:e.next=13;break;case 12:q(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[n&&(0,g.jsx)(u.Z,{as0verlay:!0}),h&&(0,g.jsx)(P.Z,{header:"An Error Occurred",error:h,onClick:function(){E(null)}}),Y&&(0,g.jsx)(Z.Z,{title:"Are you shure you whant to delete this Creature?",onClick:re}),K&&(0,g.jsx)(S.Z,{onClick:function(){te("/")},title:"Creature Deleted",text:"Your creature has been deleted successfully"}),(0,g.jsx)("input",{className:j,onKeyUp:function(t){e&&clearTimeout(e),e=setTimeout((function(){F(t.target.value)}),1e3)},placeholder:"Search"}),(0,g.jsx)("div",{className:_,children:O.map((function(e,t){return(0,g.jsxs)(N.Z,{childrenTopAndBottom:!0,battleSideBar:!1,stats:e,modalStats:!0,width:"250px",height:"250px",children:[(0,g.jsx)("span",{className:"".concat(e.timeforvoting>ne?m:e.votes.number>0||void 0===e.votes.number?f:d," \n                  ").concat(b),children:e.timeforvoting>ne?"Ongoing":e.votes.number>0||void 0===e.votes.number?"Accepted":"Rejected"}),(0,g.jsxs)("div",{children:[(0,g.jsx)(C,{id:e._id}),(0,g.jsxs)("button",{className:"".concat(p," ").concat(x," button"),onClick:function(){return t=e._id,q(!0),void J(t);var t},children:[" ","Delete"]})]})]},t)}))}),O.length>10&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{children:[(0,g.jsx)("a",{href:"/myProfile/?page=1",children:"1"}),(0,g.jsx)("a",{href:"/myProfile/?page=2",children:"2"}),(0,g.jsx)("a",{href:"/myProfile/?page=3",children:"3"})]}),(0,g.jsx)("button",{className:"".concat(y," button"),onClick:function(){ee($+10)},children:"Load More"})]})]})}},5294:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(2791),c=n(4164),o=n(5730),s="Confirmation_btn__lddQ2",i="Confirmation_modal_big_box__style__a-CgK",a="Confirmation_confirm__style__ij0BH",l="Confirmation_reject__style__erAtf",u=n(184);function _(e){var t=function(t){e.onClick(t)};return(0,u.jsxs)(r.Fragment,{children:[c.createPortal((0,u.jsx)(o.Z,{onClick:e.onClick}),document.getElementById("backdrop-root")),(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("span",{children:e.title}),(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{className:"".concat(s," ").concat(a),onClick:function(){return t(!0)},children:"Yes"}),(0,u.jsx)("button",{className:"".concat(s," ").concat(l),onClick:function(){return t(!1)},children:"No"})]})]})]})}},6510:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(2791),c=n(4164),o=n(5730),s="SuccesfulSubmission_modal_big_box__style__CEnnF",i="SuccesfulSubmission_big_text__style__8ssXh",a="SuccesfulSubmission_text__style__SuHpA",l="SuccesfulSubmission_image__style__K3RZW",u=n.p+"static/media/green_check_mark.a03da16a3097c38b2a84.png",_=n(184);function d(e){return(0,_.jsxs)("div",{onClick:function(){return e.onClick(!1)},className:s,children:[(0,_.jsx)("img",{className:l,src:u,alt:"check mark"}),(0,_.jsx)("span",{className:i,children:e.title}),(0,_.jsx)("span",{className:a,children:e.text})]})}function f(e){return(0,_.jsxs)(r.Fragment,{children:[c.createPortal((0,_.jsx)(o.Z,{onClick:e.onClick}),document.getElementById("backdrop-root")),c.createPortal((0,_.jsx)(d,{onClick:e.onClick,monsterStats:e.monsterStats,title:e.title,text:e.text}),document.getElementById("overlay-root"))]})}}}]);
//# sourceMappingURL=80.d4c96622.chunk.js.map