{"version":3,"file":"static/js/129.8373fe7f.chunk.js","mappings":"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","sources":["components/MyEncounters/BattleScreen.js","webpack://dnd-project/./src/components/UI/Confirmation.module.css?e1ca","components/UI/ModalConfirmation.js","webpack://dnd-project/./src/components/UI/SuccesfulSubmission.module.css?1f84","components/UI/SuccessfulSubmission.js","components/UI/ModalSubmitSucces.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport styles from \"./BattleScreen.module.css\";\r\nimport { LoginContext } from \"../store/login-context\";\r\nimport MonsterBattleBox from \"./MonsterBattleBox\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\nimport ModalSubmitSucces from \"../UI/ModalSubmitSucces\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ModalError from \"../UI/ModalError\";\r\nimport ModalConfirmation from \"../UI/ModalConfirmation\";\r\n\r\nexport default function BattleScreen() {\r\n  const auth = useContext(LoginContext);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [fullStats, setStats] = useState([]);\r\n  const [players, setPleyers] = useState([]);\r\n  const [deleted, setDeleted] = useState(false);\r\n  const [clickDelete, setDeleteClick] = useState(false);\r\n  const url = window.location.href.split(\"battle_scr/\");\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    const fetchMonsters = async () => {\r\n      try {\r\n        const resData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + `/battle_scr/${url[1]}`\r\n        );\r\n        const control = [];\r\n        resData.monsters.forEach((element) => {\r\n          control.push(...element);\r\n\r\n          setStats([...control]);\r\n        });\r\n\r\n        setPleyers(resData.players);\r\n      } catch (err) {}\r\n    };\r\n    fetchMonsters();\r\n  }, [sendRequest]);\r\n\r\n  const deleteEncounter = () => {\r\n    setDeleteClick(true);\r\n  };\r\n  const startDelete = async (answer) => {\r\n    if (answer === true) {\r\n      try {\r\n        setDeleteClick(false);\r\n        await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + `/battle_scr/${url[1]}`,\r\n          \"DELETE\",\r\n          null,\r\n          { Authorization: \"Bearer \" + auth.token }\r\n        );\r\n        setDeleted(true);\r\n      } catch (err) {}\r\n    } else {\r\n      setDeleteClick(false);\r\n    }\r\n  };\r\n\r\n  const removeModal = () => {\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const errorHandler = () => {\r\n    clearError(null);\r\n  };\r\n  console.log(fullStats);\r\n  console.log(players);\r\n  return (\r\n    <>\r\n      {clickDelete && (\r\n        <ModalConfirmation\r\n          title=\"Are you shure that you whant to delete this Encounter?\"\r\n          onClick={startDelete}\r\n        ></ModalConfirmation>\r\n      )}\r\n      {error && (\r\n        <ModalError\r\n          header=\"An Error Occurred\"\r\n          error={error}\r\n          onClick={errorHandler}\r\n        ></ModalError>\r\n      )}\r\n      {deleted && (\r\n        <ModalSubmitSucces\r\n          onClick={removeModal}\r\n          title=\"Encounter Deleted\"\r\n          text=\"Your encounter has been deleted successfully\"\r\n        />\r\n      )}\r\n      {isLoading && <LoadingSpinner asOverlay></LoadingSpinner>}\r\n      <div className={styles.display__style}>\r\n        {fullStats.map((stats, i) => (\r\n          <MonsterBattleBox\r\n            key={i}\r\n            stats={stats}\r\n            width=\"250px\"\r\n            height=\"250px\"\r\n            battleSideBar={true}\r\n          ></MonsterBattleBox>\r\n        ))}\r\n\r\n        {players.map((player, i) => (\r\n          <MonsterBattleBox\r\n            key={i}\r\n            players={player}\r\n            width=\"250px\"\r\n            height=\"250px\"\r\n            battleSideBar={true}\r\n          ></MonsterBattleBox>\r\n        ))}\r\n      </div>\r\n      <div className={styles.delete_btn__holder}>\r\n        <button\r\n          className={`${styles.delete_btn__style} button`}\r\n          onClick={deleteEncounter}\r\n        >\r\n          {\" \"}\r\n          Delete Encounter\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Confirmation_btn__lddQ2\",\"modal_big_box__style\":\"Confirmation_modal_big_box__style__a-CgK\",\"confirm__style\":\"Confirmation_confirm__style__ij0BH\",\"reject__style\":\"Confirmation_reject__style__erAtf\"};","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport BackDrop from \"./BackDrop\";\r\nimport styles from \"./Confirmation.module.css\";\r\n\r\nexport default function ModalConfirmation(props) {\r\n  const confirmation = (answer) => {\r\n    props.onClick(answer);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      {ReactDOM.createPortal(\r\n        <BackDrop onClick={props.onClick}></BackDrop>,\r\n        document.getElementById(\"backdrop-root\")\r\n      )}\r\n\r\n      <div className={styles.modal_big_box__style}>\r\n        <span>{props.title}</span>\r\n        <div>\r\n          <button\r\n            className={`${styles.btn} ${styles.confirm__style}`}\r\n            onClick={() => confirmation(true)}\r\n          >\r\n            Yes\r\n          </button>\r\n          <button className={`${styles.btn} ${styles.reject__style}`} onClick={() => confirmation(false)}>\r\n            No\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal_big_box__style\":\"SuccesfulSubmission_modal_big_box__style__CEnnF\",\"big_text__style\":\"SuccesfulSubmission_big_text__style__8ssXh\",\"text__style\":\"SuccesfulSubmission_text__style__SuHpA\",\"image__style\":\"SuccesfulSubmission_image__style__K3RZW\"};","import styles from \"./SuccesfulSubmission.module.css\";\r\nimport GreenMark from \"../../icons/green_check_mark.png\";\r\nexport default function SuccessfulSubmission(props) {\r\n  return (\r\n    <div onClick={() =>props.onClick(false)} className={styles.modal_big_box__style}>\r\n      <img className={styles.image__style} src={GreenMark} alt=\"check mark\"></img>\r\n      <span className={styles.big_text__style}>{props.title}</span>\r\n      <span className={styles.text__style}>\r\n       {props.text}\r\n      </span>\r\n    </div>\r\n  );\r\n}","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport BackDrop from \"./BackDrop\"\r\nimport SuccessfulSubmission from \"./SuccessfulSubmission\"\r\n\r\n\r\nexport default function ModalSubmitSucces (props) {\r\n   return(\r\n       <React.Fragment>\r\n           {ReactDOM.createPortal(<BackDrop onClick={ props.onClick}></BackDrop>,document.getElementById(\"backdrop-root\"))}\r\n           {ReactDOM.createPortal(<SuccessfulSubmission onClick={props.onClick} monsterStats={props.monsterStats} title={props.title} text={props.text}></SuccessfulSubmission>,document.getElementById(\"overlay-root\"))}\r\n       </React.Fragment>\r\n   )\r\n}"],"names":["BattleScreen","auth","useContext","LoginContext","useHttpClient","isLoading","error","sendRequest","clearError","useState","fullStats","setStats","players","setPleyers","deleted","setDeleted","clickDelete","setDeleteClick","url","window","location","href","split","navigate","useNavigate","useEffect","fetchMonsters","process","resData","control","monsters","forEach","element","push","startDelete","answer","Authorization","token","console","log","title","onClick","header","text","asOverlay","className","styles","map","stats","i","width","height","battleSideBar","player","ModalConfirmation","props","confirmation","ReactDOM","BackDrop","document","getElementById","SuccessfulSubmission","src","GreenMark","alt","ModalSubmitSucces","monsterStats"],"sourceRoot":""}