{"version":3,"file":"static/js/781.ed04f0d3.chunk.js","mappings":"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","sources":["components/UI/EmptyPage.js","webpack://dnd-project/./src/components/Voting/Voting.module.css?9f45","components/Voting/Button.js","components/Voting/VotingBooth.js","components/Voting/Voting.js"],"sourcesContent":["import \"./EmptyPage.css\"\r\n\r\nexport default function EmptyPage(props) {\r\n  return (\r\n    <div className=\"empty_encounter_box__style\">{props.message}</div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"voting_main_box__style\":\"Voting_voting_main_box__style__515+f\",\"main_head__text_color\":\"Voting_main_head__text_color__6Qv7G\",\"btn_add__style\":\"Voting_btn_add__style__Ozcf1\",\"name_plate__style\":\"Voting_name_plate__style__r25xf\"};","import React, { useContext } from \"react\";\r\nimport { LoginContext } from \"../store/login-context\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\n\r\n\r\nimport \"./MainMonsterBox.css\";\r\nimport styles from \"./Voting.module.css\"\r\n\r\nexport default function Button(props) {\r\n  const login = useContext(LoginContext);\r\n\r\n  const { sendRequest } = useHttpClient();\r\n  const color =\r\n    props.votes.indexOf(login.userId) > -1 ? \"grey\" : props.className;\r\n\r\n  const cName = color;\r\n\r\n  const Vote = async () => {\r\n    if (props.votes.indexOf(login.userId) > -1) {\r\n    } else {\r\n      props.onClick(props.text, login.userId);\r\n\r\n      try {\r\n        await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/voting\",\r\n          \"POST\",\r\n          JSON.stringify({\r\n            id: props.id,\r\n            uid: login.userId,\r\n            vote: props.text,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n      } catch (err) {}\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <button onClick={Vote} style={{float: `${props.styleFloat}`, borderRadius: `${props.styleRadius}`}} className={`${styles.btn_add__style} ${cName}`}>\r\n       \r\n        <div>  {props.text}: {props.number}</div>\r\n      </button>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React,{useState} from \"react\";\r\nimport Button from \"./Button\";\r\n\r\n\r\nexport default function VotingBooth(props) {\r\n    const [voteYes, setVoteYes] = useState(props.votes.yes);\r\n    const [voteNo, setVoteNo] = useState(props.votes.no);\r\n    const checkRemove = (text, id) => {\r\n      if (text === \"Yes\") {\r\n        const votes = voteNo.indexOf(id);\r\n  \r\n        if (votes > -1) {\r\n          voteNo.splice(votes, 1);\r\n          setVoteNo([...voteNo]);\r\n        }\r\n  \r\n        setVoteYes([...voteYes, id]);\r\n      } else if (text === \"No\") {\r\n        const votes = voteYes.indexOf(id);\r\n        if (votes > -1) {\r\n          voteYes.splice(votes, 1);\r\n          setVoteYes([...voteYes]);\r\n        }\r\n        setVoteNo([...voteNo, id]);\r\n      }\r\n    };\r\n  \r\n    return (\r\n      <>\r\n        <Button\r\n          onClick={checkRemove}\r\n          styleFloat={\"left\"}\r\n          styleRadius = {\"0px 0px 30px 10px\"}\r\n          name={props.name}\r\n          votes={voteYes}\r\n          number={voteYes.length}\r\n          id={props.id}\r\n          text=\"Yes\"\r\n          className=\"green\"\r\n        />\r\n        <Button\r\n          onClick={checkRemove}\r\n          styleFloat={\"right\"}\r\n          styleRadius = {\"0px 0px 10px 30px\"}\r\n          name={props.name}\r\n          votes={voteNo}\r\n          number={voteNo.length}\r\n          id={props.id}\r\n          text=\"No\"\r\n          className=\"red\"\r\n        />\r\n      </>\r\n    );\r\n  };","import React, { useState, useEffect } from \"react\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport styles from \"./Voting.module.css\";\r\nimport EmptyPage from \"../UI/EmptyPage\";\r\nimport MonsterBattleBox from \"../MyEncounters/MonsterBattleBox\";\r\nimport VotingBooth from \"./VotingBooth\";\r\n\r\nexport default function Voting() {\r\n  const [monsters, setMonsters] = useState([]);\r\n  const { sendRequest } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const fetchMonsters = async () => {\r\n      try {\r\n        const resData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/voting\"\r\n        );\r\n        setMonsters([...resData]);\r\n      } catch (err) {}\r\n    };\r\n    fetchMonsters();\r\n  }, [sendRequest]);\r\n\r\n  return (\r\n    <div className={styles.voting_main_box__style}>\r\n      {monsters.length < 1 && (\r\n        <EmptyPage message=\"There are no new submitted cretures at this time.\"></EmptyPage>\r\n      )}\r\n      {monsters.map((monster, i) => (\r\n          <MonsterBattleBox\r\n            key={i}\r\n            childrenTopAndBottom={true}\r\n            battleSideBar={false}\r\n            stats={monster}\r\n            modalStats={true}\r\n            width=\"250px\"\r\n            height=\"250px\"\r\n          >\r\n            <div className={styles.name_plate__style}>\r\n              <span>{monster.name}</span>\r\n            </div>\r\n            <VotingBooth\r\n              votes={monster.votes}\r\n              name={monster.name}\r\n              id={monster._id}\r\n            ></VotingBooth>\r\n          </MonsterBattleBox>\r\n\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["EmptyPage","props","className","message","Button","login","useContext","LoginContext","sendRequest","useHttpClient","cName","votes","indexOf","userId","Vote","onClick","text","process","JSON","stringify","id","uid","vote","style","float","styleFloat","borderRadius","styleRadius","styles","number","VotingBooth","useState","yes","voteYes","setVoteYes","no","voteNo","setVoteNo","checkRemove","splice","name","length","Voting","monsters","setMonsters","useEffect","fetchMonsters","resData","map","monster","i","MonsterBattleBox","childrenTopAndBottom","battleSideBar","stats","modalStats","width","height","_id"],"sourceRoot":""}