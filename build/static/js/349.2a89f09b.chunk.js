"use strict";(self.webpackChunkdnd_project=self.webpackChunkdnd_project||[]).push([[349],{8349:function(e,a,n){n.r(a),n.d(a,{default:function(){return c}});var t=n(4165),i=n(5861),l=n(885),u=n(2791),s=n(681),r=n(4097),o=n(9138),p=n(184);function c(){var e=(0,r.x)(),a=e.isLoading,n=e.sendRequest,c=(0,u.useState)([]),m=(0,l.Z)(c,2),d=m[0],_=m[1],v=(0,u.useState)([]),h=(0,l.Z)(v,2),S=h[0],I=h[1],g=(0,u.useState)([]),C=(0,l.Z)(g,2),T=C[0],E=C[1],N=window.location.href.split("Edit/"),A=function(e){return e.split("(")[1].split(")")[0]};return console.log(),(0,u.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("https://danddragon.herokuapp.com"+"/myProfile/Edit/".concat(N[1]));case 3:a=e.sent,_([{name:"MONSTER NAME",input_name:"name",placeholder:"Enter monster name",value:a.name},{name:"SIZE",input_name:"meta_size",placeholder:"Large, Medium",value:a.meta.size},{name:"MONSTER TYPE",input_name:"meta_type",placeholder:"aberration, construct",value:a.meta.type},{name:"ALIGNMENT",input_name:"meta_alignment",placeholder:"lawful evil, chaotic evil",value:a.meta.alignment},{name:"CHALLENGE RATING",input_name:"Challenge R",placeholder:" # ",value:a.Challenge.rating},{name:"GRANTS XP",input_name:"Xp",placeholder:" # ",value:A(a.Challenge.xp).toLowerCase().split("xp")[0]},{name:"ARMOR CLASS",input_name:"armor_class",placeholder:"#",value:a["Armor Class"].value},{name:"ARMOR CLASS TYPE",input_name:"armor_type",placeholder:"Natural armor,plate...",value:a["Armor Class"].type},{name:"PROFICIENCY BONUS",input_name:"proficiency_bonus",placeholder:"#",value:a.proficiency_bonus},{name:"SENSES",input_name:"Senses",placeholder:"Passive Perception 11, Darkvision 60 ft., ...",value:a.Senses},{name:"AVERAGE HIT POINTS",input_name:"avrg_hp",placeholder:"#",value:a["Hit Points"].hp},{name:"HIT POINT DIE COUNT",input_name:"hp_die_count",placeholder:"#",value:A(a["Hit Points"].dice).split("d")[0]},{name:"HIT POINTS DIE VALUE",input_name:"hp_die_value",placeholder:"#",value:A(a["Hit Points"].dice).split("d")[1].split(" + ")[0]},{name:"BONUS HIT POINTS",input_name:"bonus_hp",placeholder:"#",value:A(a["Hit Points"].dice).split("d")[1].split(" + ")[1]},{name:"STR SCORE",input_name:"STR",placeholder:"#",value:a.STR},{name:"DEX SCORE",input_name:"DEX",placeholder:"#",value:a.DEX},{name:"CON SCORE",input_name:"CON",placeholder:"#",value:a.CON},{name:"INT SCORE",input_name:"INT",placeholder:"#",value:a.INT},{name:"WIS SCORE",input_name:"WIS",placeholder:"#",value:a.WIS},{name:"CHA SCORE",input_name:"CHA",placeholder:"#",value:a.CHA}]),I([{name:"Image",input_name:"img_url",placeholder:"Provide URL for image",value:a.img_url},{name:"SAVING THROW PROFICIENCIES",input_name:"Saving Throws",placeholder:"STR +6 , INT +4....",value:a["Saving Throws"]},{name:"SKILLS",input_name:"skills",placeholder:"Acrobatics +6, Deception +3, Stealth +9....",value:a.Skills},{name:"DAMAGE RESISTANCES",input_name:"Damage Resistances",placeholder:"Bludgeoning,Piercing,Fire ...",value:null===a["Damage Resistances"]?"":a["Damage Resistances"].join()},{name:"DAMAGE IMMUNITIES",input_name:"Damage Immunities",placeholder:"Bludgeoning,Piercing,Fire ...",value:null===a["Damage Immunities"]?"":a["Damage Immunities"].join()},{name:"DAMAGE VULNERABILITIES",input_name:"Damage Vulnerabilities",placeholder:"Bludgeoning,Piercing,Fire ...",value:null===a["Damage Vulnerabilities"]?"":a["Damage Vulnerabilities"].join()},{name:"CONDITION IMMUNITIES",input_name:"Condition Immunities",placeholder:"Charmed, Exhaustion, Frightened ...",value:null===a["Condition Immunities"]?"":a["Condition Immunities"].join()},{name:"LANGUAGES",input_name:"Languages",placeholder:"Deep Speech, Telepathy 120 ft.",value:a.Languages},{name:"SPEED",input_name:"Speed",placeholder:"20 ft., fly 30 ft. ",value:a.Speed}]),E([{name:"SPECIAL TRAITS DESCRIPTION",input_name:"Traits",placeholder:a.Traits},{name:"ACTIONS DESCRIPTION",input_name:"Actions",placeholder:a.Actions},{name:"REACTIONS DESCRIPTION",input_name:"Reactions",placeholder:a.Reactions},{name:"MONSTER CHARACTERISTICS DESCRIPTION",input_name:"Characteristics",placeholder:a.Characteristics},{name:"BONUS ACTIONS DESCRIPTION",input_name:"Bonus Actions",placeholder:a["Bonus Actions"]},{name:"LEGENDARY ACTIONS DESCRIPTION",input_name:"Legendary Actions",placeholder:a["Legendary Actions"]}]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,p.jsxs)(p.Fragment,{children:[a&&(0,p.jsx)(o.Z,{as0verlay:!0}),(0,p.jsx)(s.Z,{valid:!0,required:d,notReq:S,text:T,type:"PATCH",url:"/myProfile/Edit/".concat(N[1])})]})}},681:function(e,a,n){n.d(a,{Z:function(){return O}});var t=n(4165),i=n(5861),l=n(2982),u=n(4942),s=n(1413),r=n(885),o=n(2791),p=n(5767),c={textarea__style:"TextArea_textarea__style__E-L8R",capytal__style:"TextArea_capytal__style__Ke+ps"},m=n(7551),d=n(2443),_=n.n(d),v=n(184);function h(e){return(0,v.jsxs)("div",{className:c.textarea__style,children:[(0,v.jsx)("span",{className:c.capytal__style,children:e.name}),(0,v.jsx)(m.CKEditor,{className:c.textarea_box__style,editor:_(),config:{toolbar:["heading","|","bold","italic","|","numberedList","bulletedList","|","indent","outdent","|"]},data:e.placeholder,onChange:function(a,n){var t=n.getData();e.onChange(t,e.input_name)}})]})}var S=n(13),I=n(4097),g=n(7774),C=n(2790),T=n(9138),E=n(6871),N=n(4947),A=n(3244),R="SubmitHomeBrew_form__style__c9-uj",f="SubmitHomeBrew_submit_btn__style_enabled__Vx-gc",y="SubmitHomeBrew_submit_btn__style_disabled__v-isH";function O(e){var a=(0,E.s0)(),n=(0,I.x)(),c=n.isLoading,m=n.error,d=n.sendRequest,_=n.clearError,O=(0,o.useState)({}),x=(0,r.Z)(O,2),D=x[0],b=x[1],P=(0,N.c)({},!1),L=(0,r.Z)(P,2),H=L[0],Z=L[1],j=(0,o.useContext)(g.O),k=function(e,a){b((function(n){return(0,s.Z)((0,s.Z)({},n),{},(0,u.Z)({},a,e))}))},w=function(e){var a=-5+parseInt(parseInt(e)/2);return a>0?"(+".concat(a,")"):"(".concat(a,")")},V=function(e){return(0,l.Z)(e.split(/[.,#!$%&*;:{}=\-_`~()]/g).filter((function(e){return e.trim()})))},B=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(i){var l;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.preventDefault(),l={name:H.inputs.name.value,meta:{size:H.inputs.meta_size.value,type:H.inputs.meta_type.value,alignment:H.inputs.meta_alignment.value},"Armor Class":{value:H.inputs.armor_class.value,type:H.inputs.armor_type.value},"Hit Points":{dice:"(".concat(H.inputs.hp_die_count.value,"d").concat(H.inputs.hp_die_value.value," + ").concat(H.inputs.bonus_hp.value,")"),hp:H.inputs.avrg_hp.value},Speed:H.inputs.Speed.value,STR:H.inputs.STR.value,STR_mod:w(H.inputs.STR.value),DEX:H.inputs.DEX.value,DEX_mod:w(H.inputs.DEX.value),CON:H.inputs.CON.value,CON_mod:w(H.inputs.CON.value),INT:H.inputs.INT.value,INT_mod:w(H.inputs.INT.value),WIS:H.inputs.WIS.value,WIS_mod:w(H.inputs.WIS.value),CHA:H.inputs.CHA.value,CHA_mod:w(H.inputs.CHA.value),"Saving Throws":H.inputs["Saving Throws"].value,Skills:H.inputs.skills.value,Senses:H.inputs.Senses.value,Languages:H.inputs.Languages.value,Challenge:{rating:H.inputs["Challenge R"].value,xp:"(".concat(H.inputs.Xp.value,"XP)")},Traits:D.Traits,Actions:D.Actions,"Legendary Actions":D["Legendary Actions"],img_url:H.inputs.img_url.value,"Bonus Actions":D["Bonus Actions"],Characteristics:D.Characteristics,"Condition Immunities":V(H.inputs["Condition Immunities"].value),"Damage Immunities":V(H.inputs["Damage Immunities"].value),"Damage Resistances":V(H.inputs["Damage Resistances"].value),"Damage Vulnerabilities":V(H.inputs["Damage Vulnerabilities"].value),Reactions:D.Reactions,proficiency_bonus:H.inputs.proficiency_bonus.value,creator:j.userId},n.prev=2,n.next=5,d("https://danddragon.herokuapp.com"+"".concat(e.url),e.type,JSON.stringify(l),{Authorization:"Bearer "+j.token,"Content-Type":"application/json"});case 5:a("POST"===e.type?"/voting":"/myProfile"),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(2);case 10:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[c&&(0,v.jsx)(T.Z,{as0verlay:!0}),m&&(0,v.jsx)(C.Z,{error:m,onClick:function(){_(null)}}),(0,v.jsxs)("form",{id:"form",onSubmit:B,children:[(0,v.jsxs)("div",{className:R,children:[e.required.map((function(a,n){return(0,v.jsx)(S.Z,{element:"input",id:a.input_name,type:"text",initialValue:a.value,initialValid:e.valid,label:a.name,errorText:"*This field is NOT optional!",validators:[(0,p.hg)()],onInput:Z,placeholder:a.placeholder,notRequired:!1,className:"input_field__style"},n)})),e.notReq.map((function(e,a){return(0,v.jsx)(S.Z,{element:"input",id:e.input_name,initialValue:e.value,type:"text",initialValid:!0,label:e.name,onInput:Z,placeholder:e.placeholder,validators:[],notRequired:!0},a)})),e.text.map((function(e,a){return(0,v.jsx)(h,{onChange:k,name:e.name,input_name:e.input_name,placeholder:e.placeholder},a)}))]}),(0,v.jsx)(A.Z,{className:H.isValid?"".concat(f," button"):"".concat(y),type:"submit",disabled:!H.isValid,children:"Submit"})]})]})}}}]);
//# sourceMappingURL=349.2a89f09b.chunk.js.map