"use strict";(self.webpackChunkdnd_project=self.webpackChunkdnd_project||[]).push([[466],{5645:function(e,t,n){n.d(t,{Z:function(){return a}});var s=n(184);function a(e){return(0,s.jsx)("div",{className:"empty_encounter_box__style",children:e.message})}},2989:function(e,t,n){n.d(t,{Z:function(){return d}});var s=n(4165),a=n(5861),r=n(2791),i=n(7774),c=n(4097),o=(n(8085),n(4067)),u=n(184);function d(e){var t=(0,r.useContext)(i.O),n=(0,c.x)().sendRequest,d=e.votes.indexOf(t.userId)>-1?"grey":e.className,l=function(){var r=(0,a.Z)((0,s.Z)().mark((function a(){return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(e.votes.indexOf(t.userId)>-1)){s.next=3;break}s.next=11;break;case 3:return e.onClick(e.text,t.userId),s.prev=4,s.next=7,n("https://danddragon.herokuapp.com/voting","POST",JSON.stringify({id:e.id,uid:t.userId,vote:e.text}),{"Content-Type":"application/json"});case 7:s.next=11;break;case 9:s.prev=9,s.t0=s.catch(4);case 11:case"end":return s.stop()}}),a,null,[[4,9]])})));return function(){return r.apply(this,arguments)}}();return(0,u.jsx)(r.Fragment,{children:(0,u.jsx)("button",{onClick:l,style:{float:"".concat(e.styleFloat),borderRadius:"".concat(e.styleRadius)},className:"".concat(o.Z.btn_add__style," ").concat(d),children:(0,u.jsxs)("div",{children:["  ",e.text,": ",e.number]})})})}},5284:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var s=n(4165),a=n(2982),r=n(5861),i=n(885),c=n(2791),o=n(4097),u=n(4067),d=n(5645),l=n(3773),_=n(2989),x=n(184);function p(e){var t=(0,c.useState)(e.votes.yes),n=(0,i.Z)(t,2),s=n[0],r=n[1],o=(0,c.useState)(e.votes.no),u=(0,i.Z)(o,2),d=u[0],l=u[1],p=function(e,t){if("Yes"===e){var n=d.indexOf(t);n>-1&&(d.splice(n,1),l((0,a.Z)(d))),r([].concat((0,a.Z)(s),[t]))}else if("No"===e){var i=s.indexOf(t);i>-1&&(s.splice(i,1),r((0,a.Z)(s))),l([].concat((0,a.Z)(d),[t]))}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(_.Z,{onClick:p,styleFloat:"left",styleRadius:"0px 0px 30px 10px",name:e.name,votes:s,number:s.length,id:e.id,text:"Yes",className:"green"}),(0,x.jsx)(_.Z,{onClick:p,styleFloat:"right",styleRadius:"0px 0px 10px 30px",name:e.name,votes:d,number:d.length,id:e.id,text:"No",className:"red"})]})}function f(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),n=t[0],_=t[1],f=(0,o.x)().sendRequest;return(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("https://danddragon.herokuapp.com/voting");case 3:t=e.sent,_((0,a.Z)(t)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[f]),(0,x.jsxs)("div",{className:u.Z.voting_main_box__style,children:[n.length<1&&(0,x.jsx)(d.Z,{message:"There are no new submitted cretures at this time."}),n.map((function(e,t){return(0,x.jsxs)(l.Z,{voting:!0,library:!0,stats:e,modalStats:!0,width:"14vw",height:"28vh",children:[(0,x.jsx)("div",{className:u.Z.name_plate__style,children:(0,x.jsx)("span",{children:e.name})}),(0,x.jsx)(p,{votes:e.votes,name:e.name,id:e._id})]},t)}))]})}},8085:function(){},4067:function(e,t){t.Z={voting_main_box__style:"Voting_voting_main_box__style__515+f",main_head__text_color:"Voting_main_head__text_color__6Qv7G",btn_add__style:"Voting_btn_add__style__Ozcf1",name_plate__style:"Voting_name_plate__style__r25xf"}}}]);
//# sourceMappingURL=466.f4d37c60.chunk.js.map