"use strict";(self.webpackChunkdnd_project=self.webpackChunkdnd_project||[]).push([[126],{6126:function(e,n,a){a.r(n),a.d(n,{default:function(){return m}});var t=a(4165),i=a(5861),l=a(885),u=a(2791),r=a(681),s=a(4097),o=a(9138),p=a(7774),c=a(184);function m(){var e=(0,s.x)(),n=e.isLoading,a=e.sendRequest,m=(0,u.useState)([]),d=(0,l.Z)(m,2),_=d[0],v=d[1],h=(0,u.useState)([]),S=(0,l.Z)(h,2),I=S[0],g=S[1],C=(0,u.useState)([]),T=(0,l.Z)(C,2),E=T[0],f=T[1],N=window.location.href.split("Edit/"),A=(0,u.useContext)(p.O),R=function(e){return e.split("(")[1].split(")")[0]};return console.log(N),console.log(A),(0,u.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("https://danddragon.herokuapp.com"+"/myProfile/MyUploads/Edit/".concat(N[1]),"GET",null,{Authorization:"Bearer "+A.token,"Content-Type":"application/json"});case 3:n=e.sent,v([{name:"MONSTER NAME",input_name:"name",placeholder:"Enter monster name",value:n.name},{name:"SIZE",input_name:"meta_size",placeholder:"Large, Medium",value:n.meta.size},{name:"MONSTER TYPE",input_name:"meta_type",placeholder:"aberration, construct",value:n.meta.type},{name:"ALIGNMENT",input_name:"meta_alignment",placeholder:"lawful evil, chaotic evil",value:n.meta.alignment},{name:"CHALLENGE RATING",input_name:"Challenge R",placeholder:" # ",value:n.Challenge.rating},{name:"GRANTS XP",input_name:"Xp",placeholder:" # ",value:R(n.Challenge.xp).toLowerCase().split("xp")[0]},{name:"ARMOR CLASS",input_name:"armor_class",placeholder:"#",value:n["Armor Class"].value},{name:"ARMOR CLASS TYPE",input_name:"armor_type",placeholder:"Natural armor,plate...",value:n["Armor Class"].type},{name:"PROFICIENCY BONUS",input_name:"proficiency_bonus",placeholder:"#",value:n.proficiency_bonus},{name:"SENSES",input_name:"Senses",placeholder:"Passive Perception 11, Darkvision 60 ft., ...",value:n.Senses},{name:"AVERAGE HIT POINTS",input_name:"avrg_hp",placeholder:"#",value:n["Hit Points"].hp},{name:"HIT POINT DIE COUNT",input_name:"hp_die_count",placeholder:"#",value:R(n["Hit Points"].dice).split("d")[0]},{name:"HIT POINTS DIE VALUE",input_name:"hp_die_value",placeholder:"#",value:R(n["Hit Points"].dice).split("d")[1].split(" + ")[0]},{name:"BONUS HIT POINTS",input_name:"bonus_hp",placeholder:"#",value:R(n["Hit Points"].dice).split("d")[1].split(" + ")[1]},{name:"STR SCORE",input_name:"STR",placeholder:"#",value:n.STR},{name:"DEX SCORE",input_name:"DEX",placeholder:"#",value:n.DEX},{name:"CON SCORE",input_name:"CON",placeholder:"#",value:n.CON},{name:"INT SCORE",input_name:"INT",placeholder:"#",value:n.INT},{name:"WIS SCORE",input_name:"WIS",placeholder:"#",value:n.WIS},{name:"CHA SCORE",input_name:"CHA",placeholder:"#",value:n.CHA}]),g([{name:"Image",input_name:"img_url",placeholder:"Provide URL for image",value:n.img_url},{name:"SAVING THROW PROFICIENCIES",input_name:"Saving Throws",placeholder:"STR +6 , INT +4....",value:n["Saving Throws"]},{name:"SKILLS",input_name:"skills",placeholder:"Acrobatics +6, Deception +3, Stealth +9....",value:n.Skills},{name:"DAMAGE RESISTANCES",input_name:"Damage Resistances",placeholder:"Bludgeoning,Piercing,Fire ...",value:null===n["Damage Resistances"]?"":n["Damage Resistances"].join()},{name:"DAMAGE IMMUNITIES",input_name:"Damage Immunities",placeholder:"Bludgeoning,Piercing,Fire ...",value:null===n["Damage Immunities"]?"":n["Damage Immunities"].join()},{name:"DAMAGE VULNERABILITIES",input_name:"Damage Vulnerabilities",placeholder:"Bludgeoning,Piercing,Fire ...",value:null===n["Damage Vulnerabilities"]?"":n["Damage Vulnerabilities"].join()},{name:"CONDITION IMMUNITIES",input_name:"Condition Immunities",placeholder:"Charmed, Exhaustion, Frightened ...",value:null===n["Condition Immunities"]?"":n["Condition Immunities"].join()},{name:"LANGUAGES",input_name:"Languages",placeholder:"Deep Speech, Telepathy 120 ft.",value:n.Languages},{name:"SPEED",input_name:"Speed",placeholder:"20 ft., fly 30 ft. ",value:n.Speed}]),f([{name:"SPECIAL TRAITS DESCRIPTION",input_name:"Traits",placeholder:n.Traits},{name:"ACTIONS DESCRIPTION",input_name:"Actions",placeholder:n.Actions},{name:"REACTIONS DESCRIPTION",input_name:"Reactions",placeholder:n.Reactions},{name:"MONSTER CHARACTERISTICS DESCRIPTION",input_name:"Characteristics",placeholder:n.Characteristics},{name:"BONUS ACTIONS DESCRIPTION",input_name:"Bonus Actions",placeholder:n["Bonus Actions"]},{name:"LEGENDARY ACTIONS DESCRIPTION",input_name:"Legendary Actions",placeholder:n["Legendary Actions"]}]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,A.token]),console.log(_),console.log(N[1]),(0,c.jsxs)(c.Fragment,{children:[n&&(0,c.jsx)(o.Z,{as0verlay:!0}),(0,c.jsx)(r.Z,{valid:!0,required:_,notReq:I,text:E,type:"PATCH",url:"/myProfile/MyUploads/Edit/".concat(N[1])})]})}},681:function(e,n,a){a.d(n,{Z:function(){return x}});var t=a(4165),i=a(5861),l=a(2982),u=a(4942),r=a(1413),s=a(885),o=a(2791),p=a(5767),c={textarea__style:"TextArea_textarea__style__E-L8R",capytal__style:"TextArea_capytal__style__Ke+ps"},m=a(7551),d=a(2443),_=a.n(d),v=a(184);function h(e){return(0,v.jsxs)("div",{className:c.textarea__style,children:[(0,v.jsx)("span",{className:c.capytal__style,children:e.name}),(0,v.jsx)(m.CKEditor,{className:"".concat(c.textarea_box__style,", black"),editor:_(),config:{toolbar:["heading","|","bold","italic","|","numberedList","bulletedList","|","indent","outdent","|"]},data:e.placeholder,onChange:function(n,a){var t=a.getData();e.onChange(t,e.input_name)}})]})}var S=a(13),I=a(4097),g=a(7774),C=a(2790),T=a(9138),E=a(6871),f=a(4947),N=a(3244),A="SubmitHomeBrew_submit_btn__style_enabled__Vx-gc",R="SubmitHomeBrew_submit_btn__style_disabled__v-isH",y=a(1794);function x(e){var n=(0,E.s0)(),a=(0,I.x)(),c=a.isLoading,m=a.error,d=a.sendRequest,_=a.clearError,x=(0,o.useState)({}),O=(0,s.Z)(x,2),D=O[0],b=O[1],P=(0,f.c)({},!1),L=(0,s.Z)(P,2),Z=L[0],j=L[1],H=(0,o.useContext)(g.O),k=function(e,n){b((function(a){return(0,r.Z)((0,r.Z)({},a),{},(0,u.Z)({},n,e))}))},B=function(e){var n=-5+parseInt(parseInt(e)/2);return n>0?"(+".concat(n,")"):"(".concat(n,")")},M=function(e){return(0,l.Z)(e.split(/[.,#!$%&*;:{}=\-_`~()]/g).filter((function(e){return e.trim()})))},V=function(){var a=(0,i.Z)((0,t.Z)().mark((function a(i){var l;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i.preventDefault(),l={name:Z.inputs.name.value,meta:{size:Z.inputs.meta_size.value,type:Z.inputs.meta_type.value,alignment:Z.inputs.meta_alignment.value},"Armor Class":{value:Z.inputs.armor_class.value,type:Z.inputs.armor_type.value},"Hit Points":{dice:"(".concat(Z.inputs.hp_die_count.value,"d").concat(Z.inputs.hp_die_value.value," + ").concat(Z.inputs.bonus_hp.value,")"),hp:Z.inputs.avrg_hp.value},Speed:Z.inputs.Speed.value,STR:Z.inputs.STR.value,STR_mod:B(Z.inputs.STR.value),DEX:Z.inputs.DEX.value,DEX_mod:B(Z.inputs.DEX.value),CON:Z.inputs.CON.value,CON_mod:B(Z.inputs.CON.value),INT:Z.inputs.INT.value,INT_mod:B(Z.inputs.INT.value),WIS:Z.inputs.WIS.value,WIS_mod:B(Z.inputs.WIS.value),CHA:Z.inputs.CHA.value,CHA_mod:B(Z.inputs.CHA.value),"Saving Throws":Z.inputs["Saving Throws"].value,Skills:Z.inputs.skills.value,Senses:Z.inputs.Senses.value,Languages:Z.inputs.Languages.value,Challenge:{rating:Z.inputs["Challenge R"].value,xp:"(".concat(Z.inputs.Xp.value,"XP)")},Traits:D.Traits,Actions:D.Actions,"Legendary Actions":D["Legendary Actions"],img_url:Z.inputs.img_url.value,"Bonus Actions":D["Bonus Actions"],Characteristics:D.Characteristics,"Condition Immunities":M(Z.inputs["Condition Immunities"].value),"Damage Immunities":M(Z.inputs["Damage Immunities"].value),"Damage Resistances":M(Z.inputs["Damage Resistances"].value),"Damage Vulnerabilities":M(Z.inputs["Damage Vulnerabilities"].value),Reactions:D.Reactions,proficiency_bonus:Z.inputs.proficiency_bonus.value,creator:H.userId},a.prev=2,a.next=5,d("https://danddragon.herokuapp.com"+"".concat(e.url),e.type,JSON.stringify(l),{Authorization:"Bearer "+H.token,"Content-Type":"application/json"});case 5:n("POST"===e.type?"/voting":"/myProfile"),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(2);case 10:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[c&&(0,v.jsx)(T.Z,{as0verlay:!0}),m&&(0,v.jsx)(C.Z,{error:m,onClick:function(){_(null)}}),(0,v.jsxs)("form",{id:"form",onSubmit:V,children:[(0,v.jsxs)(y.Z,{children:[e.required.map((function(n,a){return(0,v.jsx)(S.Z,{element:"input",id:n.input_name,type:"text",initialValue:n.value,initialValid:e.valid,label:n.name,errorText:"*This field is NOT optional!",validators:[(0,p.hg)()],onInput:j,placeholder:n.placeholder,notRequired:!1,className:"input_field__style"},a)})),e.notReq.map((function(e,n){return(0,v.jsx)(S.Z,{element:"input",id:e.input_name,initialValue:e.value,type:"text",initialValid:!0,label:e.name,onInput:j,placeholder:e.placeholder,validators:[],notRequired:!0},n)}))]}),(0,v.jsxs)(y.Z,{children:[" ",e.text.map((function(e,n){return(0,v.jsx)(h,{onChange:k,name:e.name,input_name:e.input_name,placeholder:e.placeholder},n)}))]}),(0,v.jsx)(N.Z,{className:Z.isValid?"".concat(A," button"):"".concat(R),type:"submit",disabled:!Z.isValid,children:"Submit"})]})]})}},1794:function(e,n,a){a.d(n,{Z:function(){return r}});var t="ConteinerBox_container_box__style__C8d7G",i="ConteinerBox_fromStart__FCHBa",l="ConteinerBox_fromEnd__6CJVd",u=a(184);function r(e){return(0,u.jsx)("div",{className:"".concat(t," ").concat(e.fromStart&&i," ").concat(e.fromEnd&&l),children:e.children})}}}]);
//# sourceMappingURL=126.0bd6cd8f.chunk.js.map