{"version":3,"file":"static/js/80.d4c96622.chunk.js","mappings":"8OACA,EAAwC,yCAAxC,EAAuF,uBAAvF,EAAsH,yBAAtH,EAAsJ,wBAAtJ,EAA8W,oCAA9W,EAAua,sCAAva,EAAie,qCAAje,EAAshB,iCAAthB,EAA2kB,qCAA3kB,EAAuoB,wC,6BCCxnB,SAASA,EAAKC,GAC3B,OACE,SAAC,KAAD,CAAMC,UAAS,UAAKC,GACpBC,GAAE,0BAAqBH,EAAMI,IAD7B,UAEE,mBAAQH,UAAS,UAAKC,EAAL,WAAjB,mBAGL,C,2CCEc,SAASG,IACtB,IASIC,EATJ,GAAsDC,EAAAA,EAAAA,KAA9CC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,MAAOC,EAA1B,EAA0BA,YAAaC,EAAvC,EAAuCA,WACjCC,GAAQC,EAAAA,EAAAA,YAAWC,EAAAA,GACzB,GAA8CC,EAAAA,EAAAA,UAAS,IAAvD,eAAOC,EAAP,KAAwBC,EAAxB,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACA,GAAsCN,EAAAA,EAAAA,WAAS,GAA/C,eAAOO,EAAP,KAAoBC,EAApB,KACA,GAAgDR,EAAAA,EAAAA,UAAS,IAAzD,eAAOS,EAAP,KAAyBC,EAAzB,KACA,GAA0BV,EAAAA,EAAAA,UAAS,IAAnC,eAAOW,EAAP,KAAcC,GAAd,KACMC,IAAWC,EAAAA,EAAAA,MAEXC,IAAM,IAAIC,MAAOC,WACvBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,yCAAG,kHAEIxB,EACpByB,6CACA,OACAC,KAAKC,UAAU,CACbC,KAAM1B,EAAM2B,OACZb,MAAOA,EACPc,KAAMxB,IAER,CACE,eAAgB,qBAXF,OAEZyB,EAFY,OAclBtB,GAAc,OAAIsB,IAdA,uGAAH,qDAiBnBP,GACD,GAAE,CAACxB,EAAaE,EAAM2B,OAAQb,EAAOV,IAEtC,IAgBM0B,GAAW,yCAAG,WAAOC,GAAP,0EACH,IAAXA,EADc,iCAGdpB,GAAe,GAHD,SAIRb,EACJyB,mCAAA,qBAAkDX,GAClD,SACA,KACA,CAAEoB,cAAe,UAAYhC,EAAMiC,QARvB,OAUdxB,GAAW,GAVG,gFAahBE,GAAe,GAbC,yDAAH,sDAsBjB,OACE,gCACGf,IAAa,SAACsC,EAAA,EAAD,CAAgBC,WAAS,IACtCtC,IACC,SAACuC,EAAA,EAAD,CACEC,OAAO,oBACPxC,MAAOA,EACPyC,QApCa,WACnBvC,EAAW,KACZ,IAqCIW,IACC,SAAC6B,EAAA,EAAD,CACEC,MAAM,mDACNF,QAASR,KAGZtB,IACC,SAACiC,EAAA,EAAD,CACEH,QAxBY,WAClBtB,GAAS,IACV,EAuBOwB,MAAM,mBACNE,KAAK,iDA0BP,kBACErD,UAAWC,EACXqD,QAtFW,SAACC,GACdlD,GACFmD,aAAanD,GAEfA,EAAQoD,YAAW,WACjBzC,EAAmBuC,EAAMG,OAAOC,MACjC,GAAE,IACJ,EAgFOC,YAAY,YAGhB,gBAAK5D,UAAWC,EAAhB,SACGgB,EAAW4C,KAAI,SAACC,EAASC,GAAV,OACd,UAACC,EAAA,EAAD,CAEEC,sBAAsB,EACtBC,eAAe,EACfC,MAAOL,EACPM,YAAY,EACZC,MAAM,QACNC,OAAO,QAPT,WASE,iBACEtE,UAAS,UACJ8D,EAAQS,cAAgB1C,GACvB5B,EACA6D,EAAQU,MAAMC,OAAS,QACEC,IAAzBZ,EAAQU,MAAMC,OACdxE,EACAA,EANG,gCAOHA,GARR,SAWG6D,EAAQS,cAAgB1C,GACnB,UACAiC,EAAQU,MAAMC,OAAS,QACEC,IAAzBZ,EAAQU,MAAMC,OACd,WACA,cAER,4BACE,SAAC3E,EAAD,CAAMK,GAAI2D,EAAQa,OAClB,oBACE3E,UAAS,UAAKC,EAAL,YAAiCA,EAAjC,WACTgD,QAAS,kBA/GE2B,EA+GoBd,EAAQa,IA9GnDrD,GAAe,QACfE,EAAoBoD,GAFE,IAACA,CA+GF,EAFX,UAIG,IAJH,iBA5BGb,EAFO,MAyCjB9C,EAAW4D,OAAS,KACnB,iCACE,gCACE,cAAGC,KAAK,qBAAR,gBACA,cAAGA,KAAK,qBAAR,gBACA,cAAGA,KAAK,qBAAR,mBAEF,mBACE9E,UAAS,UAAKC,EAAL,WACTgD,QA1GO,WACfvB,GAASD,EAAQ,GAClB,EAsGO,4BAUT,C,yFChMD,EAAsB,0BAAtB,EAAuE,2CAAvE,EAAmI,qCAAnI,EAAwL,oC,SCIzK,SAASyB,EAAkBnD,GACxC,IAAMgF,EAAe,SAACrC,GACpB3C,EAAMkD,QAAQP,EACf,EACD,OACE,UAAC,WAAD,WACGsC,EAAAA,cACC,SAACC,EAAA,EAAD,CAAUhC,QAASlD,EAAMkD,UACzBiC,SAASC,eAAe,mBAG1B,iBAAKnF,UAAWC,EAAhB,WACE,0BAAOF,EAAMoD,SACb,4BACE,mBACEnD,UAAS,UAAKC,EAAL,YAAmBA,GAC5BgD,QAAS,kBAAM8B,GAAa,EAAnB,EAFX,kBAMA,mBAAQ/E,UAAS,UAAKC,EAAL,YAAmBA,GAAwBgD,QAAS,kBAAM8B,GAAa,EAAnB,EAArE,wBAOT,C,yFC/BD,EAAuC,kDAAvC,EAA2G,6CAA3G,EAAsK,yCAAtK,EAA8N,0C,wECC/M,SAASK,EAAqBrF,GAC3C,OACE,iBAAKkD,QAAS,kBAAKlD,EAAMkD,SAAQ,EAAnB,EAA2BjD,UAAWC,EAApD,WACE,gBAAKD,UAAWC,EAAqBoF,IAAKC,EAAWC,IAAI,gBACzD,iBAAMvF,UAAWC,EAAjB,SAA0CF,EAAMoD,SAChD,iBAAMnD,UAAWC,EAAjB,SACEF,EAAMsD,SAIb,CCNc,SAASD,EAAmBrD,GACxC,OACI,UAAC,WAAD,WACKiF,EAAAA,cAAsB,SAACC,EAAA,EAAD,CAAUhC,QAAUlD,EAAMkD,UAAqBiC,SAASC,eAAe,kBAC7FH,EAAAA,cAAsB,SAACI,EAAD,CAAsBnC,QAASlD,EAAMkD,QAASuC,aAAczF,EAAMyF,aAAcrC,MAAOpD,EAAMoD,MAAOE,KAAMtD,EAAMsD,OAA8B6B,SAASC,eAAe,mBAGvM,C","sources":["webpack://dnd-project/./src/components/MyProfile/MyProfile.module.css?9b5e","components/MyProfile/Edit.js","components/MyProfile/MyProfile.js","webpack://dnd-project/./src/components/UI/Confirmation.module.css?e1ca","components/UI/ModalConfirmation.js","webpack://dnd-project/./src/components/UI/SuccesfulSubmission.module.css?1f84","components/UI/SuccessfulSubmission.js","components/UI/ModalSubmitSucces.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"monster_holder__style\":\"MyProfile_monster_holder__style__H1KFy\",\"red\":\"MyProfile_red__LqUtI\",\"green\":\"MyProfile_green__y5eUO\",\"grey\":\"MyProfile_grey__d2LBG\",\"legend__style\":\"MyProfile_legend__style__yuIcn\",\"legend_single_box\":\"MyProfile_legend_single_box__EhwY2\",\"legend_main_box__style\":\"MyProfile_legend_main_box__style__GS9MY\",\"edit_link__style\":\"MyProfile_edit_link__style__3FwXQ\",\"edit_button__style\":\"MyProfile_edit_button__style__XPsDl\",\"delete_btn__style\":\"MyProfile_delete_btn__style__fEYUw\",\"btn_load_more\":\"MyProfile_btn_load_more__9-kZt\",\"search_bar__style\":\"MyProfile_search_bar__style__iS-up\",\"voting_status__style\":\"MyProfile_voting_status__style__prUjt\"};","import { Link } from \"react-router-dom\";\r\nimport styles from './MyProfile.module.css'\r\nexport default function Edit(props) {\r\n  return (\r\n    <Link className={`${styles.edit_link__style}`}\r\n    to={`/myProfile/Edit/${props.id}`}>\r\n      <button className={`${styles.edit_button__style} button`}>Edit</button>\r\n    </Link>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { LoginContext } from \"../store/login-context\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\nimport styles from \"./MyProfile.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Edit from \"./Edit\";\r\nimport ModalConfirmation from \"../UI/ModalConfirmation\";\r\nimport ModalSubmitSucces from \"../UI/ModalSubmitSucces\";\r\nimport ModalError from \"../UI/ModalError\";\r\nimport MonsterBattleBox from \"../MyEncounters/MonsterBattleBox\";\r\nexport default function MyProfile() {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const login = useContext(LoginContext);\r\n  const [searchCondition, setSearchCondition] = useState(\"\");\r\n  const [myMonsters, setMyMonsters] = useState([]);\r\n  const [deleted, setDeleted] = useState(false);\r\n  const [clickDelete, setDeleteClick] = useState(false);\r\n  const [creatureToDelete, setCreatureToDelete] = useState(\"\");\r\n  const [limit, setLimit] = useState(20);\r\n  const navigate = useNavigate();\r\n  let timer;\r\n  const now = new Date().getTime();\r\n  useEffect(() => {\r\n    const fetchMonsters = async () => {\r\n      try {\r\n        const resData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/myProfile\",\r\n          \"POST\",\r\n          JSON.stringify({\r\n            user: login.userId,\r\n            limit: limit,\r\n            name: searchCondition,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n        setMyMonsters([...resData]);\r\n      } catch (err) {}\r\n    };\r\n    fetchMonsters();\r\n  }, [sendRequest, login.userId, limit, searchCondition]);\r\n\r\n  const nameSearch = (event) => {\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n    }\r\n    timer = setTimeout(function () {\r\n      setSearchCondition(event.target.value);\r\n    }, 1000);\r\n  };\r\n\r\n  const errorHandler = () => {\r\n    clearError(null);\r\n  };\r\n  const deleteEncounter = (creatureId) => {\r\n    setDeleteClick(true);\r\n    setCreatureToDelete(creatureId);\r\n  };\r\n  const startDelete = async (answer) => {\r\n    if (answer === true) {\r\n      try {\r\n        setDeleteClick(false);\r\n        await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + `/myProfile/${creatureToDelete}`,\r\n          \"DELETE\",\r\n          null,\r\n          { Authorization: \"Bearer \" + login.token }\r\n        );\r\n        setDeleted(true);\r\n      } catch (err) {}\r\n    } else {\r\n      setDeleteClick(false);\r\n    }\r\n  };\r\n  const removeModal = () => {\r\n    navigate(\"/\");\r\n  };\r\n  const loadMore = () => {\r\n    setLimit(limit + 10);\r\n  };\r\n  return (\r\n    <>\r\n      {isLoading && <LoadingSpinner as0verlay></LoadingSpinner>}\r\n      {error && (\r\n        <ModalError\r\n          header=\"An Error Occurred\"\r\n          error={error}\r\n          onClick={errorHandler}\r\n        ></ModalError>\r\n      )}\r\n      {clickDelete && (\r\n        <ModalConfirmation\r\n          title=\"Are you shure you whant to delete this Creature?\"\r\n          onClick={startDelete}\r\n        ></ModalConfirmation>\r\n      )}\r\n      {deleted && (\r\n        <ModalSubmitSucces\r\n          onClick={removeModal}\r\n          title=\"Creature Deleted\"\r\n          text=\"Your creature has been deleted successfully\"\r\n        />\r\n      )}\r\n      \r\n      {/* <div className={styles.legend_main_box__style}>\r\n        <Legend\r\n          id=\"red\"\r\n          className={`${styles.legend__style} ${styles.red}`}\r\n          text=\"Rejected by the community. Some edits might be in order.\"\r\n        ></Legend>\r\n        <Legend\r\n          id=\"green\"\r\n          className={`${styles.legend__style} ${styles.green}`}\r\n          text=\"Accepted by the community.\"\r\n        ></Legend>\r\n        <Legend\r\n          id=\"grey\"\r\n          className={`${styles.legend__style} ${styles.grey}`}\r\n          text=\"Ongoing voting\"\r\n        ></Legend>\r\n        {myMonsters.length < 1 && (\r\n          <EmptyPage message=\"You haven't created any creatures yet.\"></EmptyPage>\r\n        )}\r\n      </div> */}\r\n      {/* {myMonsters.length > 1 && ( */}\r\n\r\n        <input\r\n          className={styles.search_bar__style}\r\n          onKeyUp={nameSearch}\r\n          placeholder=\"Search\"\r\n        ></input>\r\n      {/* )} */}\r\n      <div className={styles.monster_holder__style}>\r\n        {myMonsters.map((monster, i) => (\r\n          <MonsterBattleBox\r\n            key={i}\r\n            childrenTopAndBottom={true}\r\n            battleSideBar={false}\r\n            stats={monster}\r\n            modalStats={true}\r\n            width=\"250px\"\r\n            height=\"250px\"\r\n          >\r\n            <span\r\n              className={\r\n                `${monster.timeforvoting > now\r\n                  ? styles.grey\r\n                  : monster.votes.number > 0 ||\r\n                    monster.votes.number === undefined\r\n                  ? styles.green\r\n                  : styles.red} \r\n                  ${styles.voting_status__style}`\r\n              }\r\n            >\r\n             { monster.timeforvoting > now\r\n                  ? \"Ongoing\"\r\n                  : monster.votes.number > 0 ||\r\n                    monster.votes.number === undefined\r\n                  ? \"Accepted\"\r\n                  : \"Rejected\"}\r\n            </span>\r\n            <div>\r\n              <Edit id={monster._id}></Edit>\r\n              <button\r\n                className={`${styles.delete_btn__style} ${styles.edit_button__style} button`}\r\n                onClick={() => deleteEncounter(monster._id)}\r\n              >\r\n                {\" \"}\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </MonsterBattleBox>\r\n        ))}\r\n      </div>\r\n      {myMonsters.length > 10 && (\r\n        <>\r\n          <section>\r\n            <a href=\"/myProfile/?page=1\">1</a>\r\n            <a href=\"/myProfile/?page=2\">2</a>\r\n            <a href=\"/myProfile/?page=3\">3</a>\r\n          </section>\r\n          <button\r\n            className={`${styles.btn_load_more} button`}\r\n            onClick={loadMore}\r\n          >\r\n            Load More\r\n          </button>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Confirmation_btn__lddQ2\",\"modal_big_box__style\":\"Confirmation_modal_big_box__style__a-CgK\",\"confirm__style\":\"Confirmation_confirm__style__ij0BH\",\"reject__style\":\"Confirmation_reject__style__erAtf\"};","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport BackDrop from \"./BackDrop\";\r\nimport styles from \"./Confirmation.module.css\";\r\n\r\nexport default function ModalConfirmation(props) {\r\n  const confirmation = (answer) => {\r\n    props.onClick(answer);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      {ReactDOM.createPortal(\r\n        <BackDrop onClick={props.onClick}></BackDrop>,\r\n        document.getElementById(\"backdrop-root\")\r\n      )}\r\n\r\n      <div className={styles.modal_big_box__style}>\r\n        <span>{props.title}</span>\r\n        <div>\r\n          <button\r\n            className={`${styles.btn} ${styles.confirm__style}`}\r\n            onClick={() => confirmation(true)}\r\n          >\r\n            Yes\r\n          </button>\r\n          <button className={`${styles.btn} ${styles.reject__style}`} onClick={() => confirmation(false)}>\r\n            No\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal_big_box__style\":\"SuccesfulSubmission_modal_big_box__style__CEnnF\",\"big_text__style\":\"SuccesfulSubmission_big_text__style__8ssXh\",\"text__style\":\"SuccesfulSubmission_text__style__SuHpA\",\"image__style\":\"SuccesfulSubmission_image__style__K3RZW\"};","import styles from \"./SuccesfulSubmission.module.css\";\r\nimport GreenMark from \"../../icons/green_check_mark.png\";\r\nexport default function SuccessfulSubmission(props) {\r\n  return (\r\n    <div onClick={() =>props.onClick(false)} className={styles.modal_big_box__style}>\r\n      <img className={styles.image__style} src={GreenMark} alt=\"check mark\"></img>\r\n      <span className={styles.big_text__style}>{props.title}</span>\r\n      <span className={styles.text__style}>\r\n       {props.text}\r\n      </span>\r\n    </div>\r\n  );\r\n}","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport BackDrop from \"./BackDrop\"\r\nimport SuccessfulSubmission from \"./SuccessfulSubmission\"\r\n\r\n\r\nexport default function ModalSubmitSucces (props) {\r\n   return(\r\n       <React.Fragment>\r\n           {ReactDOM.createPortal(<BackDrop onClick={ props.onClick}></BackDrop>,document.getElementById(\"backdrop-root\"))}\r\n           {ReactDOM.createPortal(<SuccessfulSubmission onClick={props.onClick} monsterStats={props.monsterStats} title={props.title} text={props.text}></SuccessfulSubmission>,document.getElementById(\"overlay-root\"))}\r\n       </React.Fragment>\r\n   )\r\n}"],"names":["Edit","props","className","styles","to","id","MyProfile","timer","useHttpClient","isLoading","error","sendRequest","clearError","login","useContext","LoginContext","useState","searchCondition","setSearchCondition","myMonsters","setMyMonsters","deleted","setDeleted","clickDelete","setDeleteClick","creatureToDelete","setCreatureToDelete","limit","setLimit","navigate","useNavigate","now","Date","getTime","useEffect","fetchMonsters","process","JSON","stringify","user","userId","name","resData","startDelete","answer","Authorization","token","LoadingSpinner","as0verlay","ModalError","header","onClick","ModalConfirmation","title","ModalSubmitSucces","text","onKeyUp","event","clearTimeout","setTimeout","target","value","placeholder","map","monster","i","MonsterBattleBox","childrenTopAndBottom","battleSideBar","stats","modalStats","width","height","timeforvoting","votes","number","undefined","_id","creatureId","length","href","confirmation","ReactDOM","BackDrop","document","getElementById","SuccessfulSubmission","src","GreenMark","alt","monsterStats"],"sourceRoot":""}