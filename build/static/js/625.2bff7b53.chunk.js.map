{"version":3,"file":"static/js/625.2bff7b53.chunk.js","mappings":"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","sources":["components/MyProfile/Sessions/SessionVotingForFreeDays.js","components/MyProfile/Sessions/sessionUi/CalendarReSize.js","components/MyProfile/Sessions/sessionUi/Comments.js","components/MyProfile/Sessions/sessionUi/WsComments.js","components/MyProfile/Sessions/sessionUi/SessionComponent.js","webpack://dnd-project/./src/components/UI/ConteinerBox.module.css?cb44","components/UI/ConteinerBox.js","webpack://dnd-project/./src/components/UI/Confirmation.module.css?e1ca","components/UI/ModalConfirmation.js","webpack://dnd-project/./src/components/MyProfile/Sessions/sessionUi/sessionUi.module.css?53a8"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHttpClient } from \"../../hooks/http-hook\";\r\nimport { LoginContext } from \"../../store/login-context\";\r\nimport ConteinerBox from \"../../UI/ConteinerBox\";\r\nimport SessionComponent from \"./sessionUi/SessionComponent\";\r\nimport ModalError from \"../../UI/ModalError\";\r\nimport LoadingSpinner from \"../../UI/LoadingSpinner\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ModalConfirmation from \"../../UI/ModalConfirmation\";\r\n\r\nexport default function SessionVotingForFreeDays() {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const auth = useContext(LoginContext);\r\n  const [resData, setResData] = useState([]);\r\n  const [selectedByUser, setSelectedByUser] = useState([]);\r\n  const [intentionSubmitVote, setIntentionSubmitVote] = useState(false);\r\n  const [selectedDatesFromDungonMaster, setSelectedDatesFromDungonMaster] =\r\n    useState([]);\r\n  const navigate = useNavigate();\r\n  const now = new Date().getTime();\r\n  const errorHandler = () => {\r\n    clearError(null);\r\n  };\r\n  const url = window.location.href.split(\"AllSessions/\");\r\n  useEffect(() => {\r\n    const fetchFriends = async () => {\r\n      try {\r\n        const resData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL +\r\n            `/myProfile/Sessions/AllSessions/${url[1]}`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            Authorization: \"Bearer \" + auth.token,\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n        setResData(resData);\r\n        setSelectedDatesFromDungonMaster([...resData.dates]);\r\n        if (resData.status === \"scheduled\") {\r\n          setSelectedDatesFromDungonMaster([...resData.scheduledFor]);\r\n        }\r\n        for (let index = 0; index < resData.votes.length; index++) {\r\n          const el = resData.votes[index];\r\n          if (resData.votes[index].user === auth.userId) {\r\n            let date = [];\r\n\r\n            for (let index = 0; index < el.dates.length; index++) {\r\n              const element = el.dates[index];\r\n              date.push(new Date(element));\r\n            }\r\n            setSelectedByUser([...date]);\r\n          }\r\n        }\r\n      } catch (err) {}\r\n    };\r\n    fetchFriends();\r\n  }, []);\r\n  const submitVote = async (value) => {\r\n    if (resData.timeforvoting < now) {\r\n      return;\r\n    }\r\n    try {\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL +\r\n          `/myProfile/Sessions/AllSessions/${url[1]}`,\r\n        \"PATCH\",\r\n        JSON.stringify({\r\n          dates: value,\r\n          username: auth.username,\r\n          id: auth.userId,\r\n          calendarId: url[1],\r\n        }),\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      );\r\n    } catch (err) {}\r\n    window.location.reload();\r\n  };\r\n  const chechUserIntention = (info, hours) => {\r\n    setIntentionSubmitVote(true);\r\n  };\r\n\r\n  return (\r\n    <ConteinerBox>\r\n      {isLoading && <LoadingSpinner as0verlay></LoadingSpinner>}\r\n      {error && (\r\n        <ModalError\r\n          header=\"An Error Occurred\"\r\n          error={error}\r\n          onClick={errorHandler}\r\n        ></ModalError>\r\n      )}\r\n      {intentionSubmitVote && (\r\n        <ModalConfirmation\r\n          title=\"Are you shure about the date you put in ? There is no turning back.\"\r\n          onClick={submitVote}\r\n        ></ModalConfirmation>\r\n      )}\r\n      <SessionComponent\r\n        resData={resData}\r\n        selectedDatesFromDungonMaster={selectedDatesFromDungonMaster}\r\n        userAlreadySelectedDates={selectedByUser}\r\n        url={url[1]}\r\n        calendarButtonText={\"Submit\"}\r\n        onClickSubmit={chechUserIntention}\r\n      ></SessionComponent>\r\n    </ConteinerBox>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport useWindowSize from \"../../../hooks/screensize-hook\";\r\n\r\nexport default function CalendarReSize() {\r\n  const size = useWindowSize();\r\n  const [calendarSize, setCalendarsize] = useState(480);\r\n  useEffect(() => {\r\n    if (size.width > 1920) {\r\n      setCalendarsize(540);\r\n    }\r\n    if (size.width > 1024 && size.width < 1920) {\r\n      setCalendarsize(480);\r\n    }\r\n    if (size.width < 1024 && size.width > 420) {\r\n      setCalendarsize(390);\r\n    }\r\n    if (size.width < 420) {\r\n      setCalendarsize(330);\r\n    }\r\n  }, [size.width]);\r\n  return calendarSize;\r\n}\r\n","import NewsBox from \"../../../UI/NewsBox\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport styles from \"./sessionUi.module.css\";\r\nexport default function Comments(props) {\r\n  const AlwaysScrollToBottom = () => {\r\n    const elementRef = useRef();\r\n    useEffect(() => elementRef.current.scrollIntoView());\r\n    return <div ref={elementRef} />;\r\n  };\r\n  const [stateComents, setStateComents] = useState([]);\r\n  useEffect(() => {\r\n    setStateComents([...props.comments, ...props.wscomments]);\r\n  }, [props]);\r\n  return (\r\n    <NewsBox className={props.className}>\r\n      {stateComents &&\r\n        stateComents.map((el, i) => (\r\n          <div\r\n            key={i}\r\n            className={`${styles.general_style} ${\r\n              props.thisUser === el.username\r\n                ? styles.sameuser__style\r\n                : styles.diffuser__style\r\n            }`}\r\n          >\r\n            {props.thisUser !== el.username && (\r\n              <span\r\n                dangerouslySetInnerHTML={{ __html: el.username }}\r\n                className={`${styles.username__style} ${styles.general_comment__style} `}\r\n              ></span>\r\n            )}\r\n            <span\r\n              dangerouslySetInnerHTML={{ __html: el.comment }}\r\n              className={`${styles.text__style}  ${\r\n                styles.general_comment__style\r\n              } ${\r\n                props.thisUser === el.username\r\n                  ? styles.sameuser__bcccolor__style\r\n                  : styles.diffuser__bcccolor__style\r\n              }`}\r\n            ></span>\r\n          </div>\r\n        ))}\r\n\r\n      <AlwaysScrollToBottom></AlwaysScrollToBottom>\r\n    </NewsBox>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport Comments from \"./Comments\";\r\nimport { LoginContext } from \"../../../store/login-context\";\r\nimport { useHttpClient } from \"../../../hooks/http-hook\";\r\n\r\nimport styles from \"./sessionUi.module.css\";\r\n\r\nexport default function WsComments(props) {\r\n  //   const [webSocketMessage, setWebSocketMessage] = useState([]);\r\n  const [ckEditorText, setckEditorText] = useState(\"\");\r\n  const [propsState, setPropsState] = useState(props.dbComments);\r\n  const [wsMessage, setWsMessage] = useState(propsState);\r\n  const { sendRequest } = useHttpClient();\r\n  const auth = useContext(LoginContext);\r\n  useEffect(() => {\r\n    setPropsState(props.dbComments);\r\n  }, [props]);\r\n  const ws_url = window.location.href.split(\"/\");\r\n  const ws_backend_url = process.env.REACT_APP_BACKEND_URL.replace(\r\n    \"http\",\r\n    \"ws\"\r\n  );\r\n\r\n  //   ############################################ Web Socket Connection #######################################\r\n  const client = new W3CWebSocket(`${ws_backend_url}/${ws_url[6]}`);\r\n\r\n  useEffect(() => {\r\n    client.onopen = () => {};\r\n    client.onmessage = (e) => {\r\n      if (typeof e.data === \"string\") {\r\n        const data = JSON.parse(e.data);\r\n        setWsMessage([...wsMessage, data]);\r\n      }\r\n    };\r\n\r\n    client.onerror = function () {};\r\n  }, [client.onmessage, wsMessage]);\r\n\r\n  //   #######################################################################################################\r\n\r\n  const submitComment = async () => {\r\n    // ############### Send WebSocket Message ###############\r\n    if (ckEditorText.trim() === \"\") {\r\n      return;\r\n    }\r\n    client.send(\r\n      JSON.stringify({ comment: ckEditorText, username: auth.username })\r\n    );\r\n    // ######################################################\r\n    try {\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL +\r\n          `/myProfile/Sessions/AllSessions/comment`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          title: ckEditorText,\r\n          username: auth.username,\r\n          id: auth.userId,\r\n          calendarId: ws_url[6],\r\n        }),\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      );\r\n      setckEditorText(\"\");\r\n    } catch (err) {}\r\n  };\r\n\r\n  const textZoneChange = (event) => {\r\n    setckEditorText(event.target.value);\r\n  };\r\n  return (\r\n    <div className={`${styles.comment__big_box_holder} `}>\r\n      <Comments\r\n        className={\"black__background overflow flex_nowrap\"}\r\n        thisUser={auth.username}\r\n        comments={propsState}\r\n        wscomments={wsMessage}\r\n      ></Comments>\r\n\r\n      <div className={`${styles.comment__input__style} `}>\r\n        <input\r\n          onChange={textZoneChange}\r\n          placeholder=\"Aa\"\r\n          value={ckEditorText}\r\n        ></input>\r\n        <button className=\"button\" onClick={submitComment}>\r\n          {\" \"}\r\n          Comment\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useHttpClient } from \"../../../hooks/http-hook\";\r\nimport { LoginContext } from \"../../../store/login-context\";\r\nimport WsComments from \"./WsComments\";\r\nimport { Calendar } from \"@natscale/react-calendar\";\r\nimport Countdown from \"react-countdown\";\r\nimport ModalError from \"../../../UI/ModalError\";\r\nimport LoadingSpinner from \"../../../UI/LoadingSpinner\";\r\nimport ModalConfirmation from \"../../../UI/ModalConfirmation\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Select from \"react-select\";\r\nimport CalendarReSize from \"./CalendarReSize\";\r\n\r\nimport styles from \"./sessionUi.module.css\";\r\nimport \"@natscale/react-calendar/dist/main.css\";\r\n\r\nconst hours = [\r\n  { value: 1, label: \"1:00\" },\r\n  { value: 2, label: \"2:00\" },\r\n  { value: 3, label: \"3:00\" },\r\n  { value: 4, label: \"4:00\" },\r\n  { value: 5, label: \"5:00\" },\r\n  { value: 6, label: \"6:00\" },\r\n  { value: 7, label: \"7:00\" },\r\n  { value: 8, label: \"8:00\" },\r\n  { value: 9, label: \"9:00\" },\r\n  { value: 10, label: \"10:00\" },\r\n  { value: 11, label: \"11:00\" },\r\n  { value: 12, label: \"12:00\" },\r\n  { value: 13, label: \"13:00\" },\r\n  { value: 14, label: \"14:00\" },\r\n  { value: 15, label: \"15:00\" },\r\n  { value: 16, label: \"16:00\" },\r\n  { value: 17, label: \"17:00\" },\r\n  { value: 18, label: \"18:00\" },\r\n  { value: 19, label: \"19:00\" },\r\n  { value: 20, label: \"20:00\" },\r\n  { value: 21, label: \"21:00\" },\r\n  { value: 22, label: \"22:00\" },\r\n  { value: 23, label: \"23:00\" },\r\n  { value: 24, label: \"24:00\" },\r\n];\r\n\r\nexport default function SessionComponent(props) {\r\n  const [value, setValue] = useState([]);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [intentionForClosing, setIntentionForClosing] = useState(false);\r\n  const [intentionForDelete, setIntentionForDelete] = useState(false);\r\n  const [scheduledHours, setScheduledHour] = useState();\r\n  const size = CalendarReSize();\r\n  const auth = useContext(LoginContext);\r\n  const navigate = useNavigate();\r\n\r\n  const errorHandler = () => {\r\n    clearError(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\r\n      props.userAlreadySelectedDates &&\r\n      props.userAlreadySelectedDates.length > 0\r\n    ) {\r\n      setValue(props.userAlreadySelectedDates);\r\n    }\r\n  }, [props.userAlreadySelectedDates]);\r\n\r\n  const toTimeStamp = (time) => {\r\n    let timestamp = [];\r\n    for (let index = 0; index < time.length; index++) {\r\n      timestamp.push(new Date(time[index]).getTime());\r\n    }\r\n    return timestamp;\r\n  };\r\n\r\n  const timeStamp = toTimeStamp(\r\n    props.resData.status === \"SCHEDULED\"\r\n      ? props.resData.scheduledFor\r\n      : props.selectedDatesFromDungonMaster\r\n  );\r\n\r\n  const isDisabled = (date) => {\r\n    if (timeStamp.includes(date.getTime())) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n  const submitVote = () => {\r\n    props.onClickSubmit(value, scheduledHours);\r\n  };\r\n\r\n  const closeSession = async (answer) => {\r\n    if (answer === false) {\r\n      setIntentionForClosing(false);\r\n      return;\r\n    }\r\n    try {\r\n      setIntentionForClosing(false);\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL +\r\n          `/myProfile/Sessions/MySessions/${props.url}`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          calendarId: props.url,\r\n          status: \"CLOSED\",\r\n        }),\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      );\r\n      navigate(`/myProfile/Sessions/AllSessions`);\r\n    } catch (err) {}\r\n  };\r\n  const deleteSession = async (answer) => {\r\n    if (answer === false) {\r\n      setIntentionForDelete(false);\r\n      return;\r\n    }\r\n    try {\r\n      setIntentionForDelete(false);\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL +\r\n          `/myProfile/Sessions/MySessions/${props.url}`,\r\n        \"DELETE\",\r\n        JSON.stringify({\r\n          calendarId: props.url,\r\n        }),\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      );\r\n    } catch (err) {}\r\n    navigate(`/myProfile/Sessions/AllSessions`);\r\n  };\r\n  const checkIntentionForClosing = () => {\r\n    setIntentionForClosing(true);\r\n  };\r\n\r\n  const checkIntentionForDelete = () => {\r\n    setIntentionForDelete(true);\r\n  };\r\n  const scheduledHour = (value) => {\r\n    setScheduledHour(value.value);\r\n  };\r\n  return (\r\n    <>\r\n      {isLoading && <LoadingSpinner as0verlay></LoadingSpinner>}\r\n      {error && (\r\n        <ModalError\r\n          header=\"An Error Occurred\"\r\n          error={error}\r\n          onClick={errorHandler}\r\n        ></ModalError>\r\n      )}\r\n      {intentionForClosing && (\r\n        <ModalConfirmation\r\n          title=\"Are you shure that you want to CLOSE this session.\"\r\n          onClick={closeSession}\r\n        ></ModalConfirmation>\r\n      )}\r\n      {intentionForDelete && (\r\n        <ModalConfirmation\r\n          title=\"Are you shure that you want to DELETE this session.\"\r\n          onClick={deleteSession}\r\n        ></ModalConfirmation>\r\n      )}\r\n      <div>\r\n        <div className={styles.info_about_session__style}>\r\n          {props.resData.timeforvoting && (\r\n            <span className={styles.countdown__style}>\r\n              <Countdown date={props.resData.timeforvoting}></Countdown>\r\n            </span>\r\n          )}\r\n          <span className={styles.organiser__span__style}>\r\n            Invited by : {props.resData.dmStatus && \"DM\"}\r\n            {props.resData.dmStatus && props.resData.hostStatus && \" and a \"}\r\n            {props.resData.hostStatus && \"HOST\"}\r\n            <span className={styles.organiser__span__style}>\r\n              {props.resData.creatorName}\r\n            </span>\r\n          </span>\r\n        </div>\r\n        <div className={`${styles.info_about_session__style}`}>\r\n          <Calendar\r\n            isDisabled={isDisabled}\r\n            useDarkMode={true}\r\n            size={size}\r\n            fontSize={18}\r\n            value={\r\n              props.resData.status === \"SCHEDULED\"\r\n                ? [new Date(props.resData.scheduledFor)]\r\n                : value\r\n            }\r\n            isMultiSelector={true}\r\n            onChange={setValue}\r\n          />\r\n          <div className={`${styles.schedule_buttons__style}`}>\r\n            {props.resData.status === \"SCHEDULED\" ||\r\n            props.resData.status === \"CLOSED\" ? null : (\r\n              <button\r\n                style={{ width: \"38%\" }}\r\n                className=\"button\"\r\n                onClick={submitVote}\r\n              >\r\n                {\" \"}\r\n                {props.calendarButtonText}\r\n              </button>\r\n            )}\r\n            {props.canCloseSession &&\r\n              props.resData.status !== \"SCHEDULED\" &&\r\n              props.resData.status !== \"CLOSED\" && (\r\n                <Select\r\n                  //  className={styles.search_bar__stayle}\r\n                  options={hours}\r\n                  name=\"hours\"\r\n                  onChange={scheduledHour}\r\n                  menuPlacement={\"auto\"}\r\n                  // onSelection={addUser}\r\n                ></Select>\r\n              )}\r\n            {props.canCloseSession &&\r\n              (props.resData.status === \"CLOSED\" ? (\r\n                <button\r\n                  style={{ width: \"38%\" }}\r\n                  className=\"button\"\r\n                  onClick={checkIntentionForDelete}\r\n                >\r\n                  {\" \"}\r\n                  Delete Session\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  style={{ width: \"38%\" }}\r\n                  className=\"button\"\r\n                  onClick={checkIntentionForClosing}\r\n                >\r\n                  {\" \"}\r\n                  Close Session\r\n                </button>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <WsComments dbComments={props.resData.comments || []}></WsComments>\r\n    </>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container_box__style\":\"ConteinerBox_container_box__style__C8d7G\",\"fromStart\":\"ConteinerBox_fromStart__FCHBa\",\"fromEnd\":\"ConteinerBox_fromEnd__6CJVd\"};","import styles from \"./ConteinerBox.module.css\";\r\n\r\nexport default function ConteinerBox(props) {\r\n  return (\r\n    <div\r\n      className={`${styles.container_box__style} ${\r\n        props.fromStart && styles.fromStart\r\n      } ${props.fromEnd && styles.fromEnd}`}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Confirmation_btn__lddQ2\",\"modal_big_box__style\":\"Confirmation_modal_big_box__style__a-CgK\",\"confirm__style\":\"Confirmation_confirm__style__ij0BH\",\"reject__style\":\"Confirmation_reject__style__erAtf\"};","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport BackDrop from \"./BackDrop\";\r\nimport styles from \"./Confirmation.module.css\";\r\n\r\nexport default function ModalConfirmation(props) {\r\n  const confirmation = (answer) => {\r\n    props.onClick(answer);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      {ReactDOM.createPortal(\r\n        <BackDrop onClick={props.onClick}></BackDrop>,\r\n        document.getElementById(\"backdrop-root\")\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <div className={styles.modal_big_box__style}>\r\n          <span>{props.title}</span>\r\n          <div>\r\n            <button\r\n              className={`${styles.btn} ${styles.confirm__style}`}\r\n              onClick={() => confirmation(true)}\r\n            >\r\n              Yes\r\n            </button>\r\n            <button\r\n              className={`${styles.btn} ${styles.reject__style}`}\r\n              onClick={() => confirmation(false)}\r\n            >\r\n              No\r\n            </button>\r\n          </div>\r\n        </div>,\r\n        document.getElementById(\"overlay-root\")\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"session_all__style\":\"sessionUi_session_all__style__Lz5Nd\",\"user_session__style\":\"sessionUi_user_session__style__6n8Uy\",\"invited_session__style\":\"sessionUi_invited_session__style__DzoA8\",\"scheduled_session__style\":\"sessionUi_scheduled_session__style__MCB7e\",\"text__inside__style\":\"sessionUi_text__inside__style__IPShv\",\"info_about_session__style\":\"sessionUi_info_about_session__style__kQwwU\",\"countdown__style\":\"sessionUi_countdown__style__F+cQZ\",\"organiser__span__style\":\"sessionUi_organiser__span__style__-2bLP\",\"comment__input__style\":\"sessionUi_comment__input__style__QLLb6\",\"general_comment__style\":\"sessionUi_general_comment__style__PQvpl\",\"username__style\":\"sessionUi_username__style__MyuZe\",\"text__style\":\"sessionUi_text__style__ZSVuC\",\"sameuser__style\":\"sessionUi_sameuser__style__zs0da\",\"general_style\":\"sessionUi_general_style__G-JyT\",\"sameuser__bcccolor__style\":\"sessionUi_sameuser__bcccolor__style__N11UC\",\"diffuser__style\":\"sessionUi_diffuser__style__HEhWV\",\"diffuser__bcccolor__style\":\"sessionUi_diffuser__bcccolor__style__hFRd7\",\"schedule_buttons__style\":\"sessionUi_schedule_buttons__style__Dw-fb\",\"comment__big_box_holder\":\"sessionUi_comment__big_box_holder__smqUT\"};"],"names":["SessionVotingForFreeDays","useHttpClient","isLoading","error","sendRequest","clearError","auth","useContext","LoginContext","useState","resData","setResData","selectedByUser","setSelectedByUser","intentionSubmitVote","setIntentionSubmitVote","selectedDatesFromDungonMaster","setSelectedDatesFromDungonMaster","now","useNavigate","Date","getTime","url","window","location","href","split","useEffect","fetchFriends","process","Authorization","token","dates","status","scheduledFor","index","votes","length","el","user","userId","date","element","push","submitVote","value","timeforvoting","JSON","stringify","username","id","calendarId","reload","as0verlay","header","onClick","title","userAlreadySelectedDates","calendarButtonText","onClickSubmit","info","hours","CalendarReSize","size","useWindowSize","calendarSize","setCalendarsize","width","Comments","props","AlwaysScrollToBottom","elementRef","useRef","current","scrollIntoView","ref","stateComents","setStateComents","comments","wscomments","NewsBox","className","map","i","styles","thisUser","dangerouslySetInnerHTML","__html","comment","WsComments","ckEditorText","setckEditorText","dbComments","propsState","setPropsState","wsMessage","setWsMessage","ws_url","ws_backend_url","replace","client","W3CWebSocket","onopen","onmessage","e","data","parse","onerror","submitComment","trim","send","onChange","event","target","placeholder","label","SessionComponent","setValue","intentionForClosing","setIntentionForClosing","intentionForDelete","setIntentionForDelete","scheduledHours","setScheduledHour","navigate","timeStamp","time","timestamp","toTimeStamp","closeSession","answer","deleteSession","LoadingSpinner","ModalError","ModalConfirmation","dmStatus","hostStatus","creatorName","isDisabled","includes","useDarkMode","fontSize","isMultiSelector","style","canCloseSession","options","name","menuPlacement","ConteinerBox","fromStart","fromEnd","children","confirmation","ReactDOM","BackDrop","document","getElementById"],"sourceRoot":""}