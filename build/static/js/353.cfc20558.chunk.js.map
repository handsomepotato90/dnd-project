{"version":3,"file":"static/js/353.cfc20558.chunk.js","mappings":"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","sources":["webpack://dnd-project/./src/components/MyProfile/MyUploads/MyUploads.module.css?bc7f","components/MyProfile/MyUploads/Edit.js","components/MyProfile/MyUploads/MyUploads.js","webpack://dnd-project/./src/components/UI/Confirmation.module.css?e1ca","components/UI/ModalConfirmation.js","webpack://dnd-project/./src/components/UI/SuccesfulSubmission.module.css?1f84","components/UI/SuccessfulSubmission.js","components/UI/ModalSubmitSucces.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"legend__style\":\"MyUploads_legend__style__6YDAQ\",\"legend_single_box\":\"MyUploads_legend_single_box__+jc71\",\"legend_main_box__style\":\"MyUploads_legend_main_box__style__lAH-5\",\"edit_link__style\":\"MyUploads_edit_link__style__SrpKP\",\"edit_button__style\":\"MyUploads_edit_button__style__UQhzr\",\"delete_btn__style\":\"MyUploads_delete_btn__style__LCWze\",\"btn_load_more\":\"MyUploads_btn_load_more__0meqp\",\"search_bar__style\":\"MyUploads_search_bar__style__ZqaEl\",\"voting_status__style\":\"MyUploads_voting_status__style__aPfk8\"};","import { Link } from \"react-router-dom\";\r\nimport styles from './MyUploads.module.css'\r\nexport default function Edit(props) {\r\n  return (\r\n    <Link className={`${styles.edit_link__style}`}\r\n    to={`/myProfile/MyUploads/Edit/${props.id}`}>\r\n      <button className={`${styles.edit_button__style} button`}>Edit</button>\r\n    </Link>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHttpClient } from \"../../hooks/http-hook\";\r\nimport { LoginContext } from \"../../store/login-context\";\r\nimport LoadingSpinner from \"../../UI/LoadingSpinner\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Edit from \"./Edit\";\r\nimport ModalConfirmation from \"../../UI/ModalConfirmation\";\r\nimport ModalSubmitSucces from \"../../UI/ModalSubmitSucces\";\r\nimport ModalError from \"../../UI/ModalError\";\r\nimport MonsterBattleBox from \"../../MyEncounters/MonsterBattleBox\";\r\nimport ConteinerBox from \"../../UI/ConteinerBox\";\r\n\r\nimport styles from \"./MyUploads.module.css\";\r\n\r\nexport default function MyUploads() {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const login = useContext(LoginContext);\r\n  const [searchCondition, setSearchCondition] = useState(\"\");\r\n  const [myMonsters, setMyMonsters] = useState([]);\r\n  const [deleted, setDeleted] = useState(false);\r\n  const [clickDelete, setDeleteClick] = useState(false);\r\n  const [creatureToDelete, setCreatureToDelete] = useState(\"\");\r\n  const [limit, setLimit] = useState(20);\r\n  const navigate = useNavigate();\r\n  let timer;\r\n  const now = new Date().getTime();\r\n  useEffect(() => {\r\n    const fetchMonsters = async () => {\r\n      try {\r\n        const resData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/myProfile/MyUploads\",\r\n          \"POST\",\r\n          JSON.stringify({\r\n            user: login.userId,\r\n            limit: limit,\r\n            name: searchCondition,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n        setMyMonsters([...resData]);\r\n      } catch (err) {}\r\n    };\r\n    fetchMonsters();\r\n  }, [sendRequest, login.userId, limit, searchCondition]);\r\n\r\n  const nameSearch = (event) => {\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n    }\r\n    timer = setTimeout(function () {\r\n      setSearchCondition(event.target.value);\r\n    }, 1000);\r\n  };\r\n\r\n  const errorHandler = () => {\r\n    clearError(null);\r\n  };\r\n  const deleteEncounter = (creatureId) => {\r\n    setDeleteClick(true);\r\n    setCreatureToDelete(creatureId);\r\n  };\r\n  const startDelete = async (answer) => {\r\n    if (answer === true) {\r\n      try {\r\n        setDeleteClick(false);\r\n        await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL +\r\n            `/MyProfile/MyUploads/${creatureToDelete}`,\r\n          \"DELETE\",\r\n          null,\r\n          { Authorization: \"Bearer \" + login.token }\r\n        );\r\n        setDeleted(true);\r\n      } catch (err) {}\r\n    } else {\r\n      setDeleteClick(false);\r\n    }\r\n  };\r\n  const removeModal = () => {\r\n    navigate(\"/\");\r\n  };\r\n  // const loadMore = () => {\r\n  //   setLimit(limit + 10);\r\n  // };\r\n  return (\r\n    <>\r\n      {isLoading && <LoadingSpinner as0verlay></LoadingSpinner>}\r\n      {error && (\r\n        <ModalError\r\n          header=\"An Error Occurred\"\r\n          error={error}\r\n          onClick={errorHandler}\r\n        ></ModalError>\r\n      )}\r\n      {clickDelete && (\r\n        <ModalConfirmation\r\n          title=\"Are you shure you whant to delete this Creature?\"\r\n          onClick={startDelete}\r\n        ></ModalConfirmation>\r\n      )}\r\n      {deleted && (\r\n        <ModalSubmitSucces\r\n          onClick={removeModal}\r\n          title=\"Creature Deleted\"\r\n          text=\"Your creature has been deleted successfully\"\r\n        />\r\n      )}\r\n\r\n      <input\r\n        className={styles.search_bar__style}\r\n        onKeyUp={nameSearch}\r\n        placeholder=\"Search\"\r\n      ></input>\r\n      {/* )} */}\r\n      <ConteinerBox>\r\n        {myMonsters.map((monster, i) => (\r\n          <MonsterBattleBox\r\n            key={i}\r\n            childrenTopAndBottom={true}\r\n            battleSideBar={false}\r\n            stats={monster}\r\n            modalStats={true}\r\n            width=\"250px\"\r\n            height=\"250px\"\r\n          >\r\n            <span\r\n              className={`${\r\n                monster.timeforvoting > now\r\n                  ? \"grey\"\r\n                  : monster.votes.number > 0 ||\r\n                    monster.votes.number === undefined\r\n                  ? \"green\"\r\n                  : \"red\"\r\n              } \r\n                  ${styles.voting_status__style}`}\r\n            >\r\n              {monster.timeforvoting > now\r\n                ? \"Ongoing\"\r\n                : monster.votes.number > 0 || monster.votes.number === undefined\r\n                ? \"Accepted\"\r\n                : \"Rejected\"}\r\n            </span>\r\n            <div>\r\n              <Edit id={monster._id}></Edit>\r\n              <button\r\n                className={`${styles.delete_btn__style} ${styles.edit_button__style} button`}\r\n                onClick={() => deleteEncounter(monster._id)}\r\n              >\r\n                {\" \"}\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </MonsterBattleBox>\r\n        ))}\r\n      </ConteinerBox>\r\n      {/* {myMonsters.length > 10 && (\r\n        <>\r\n          <section>\r\n            <a href=\"/MyUploads/?page=1\">1</a>\r\n            <a href=\"/MyUploads/?page=2\">2</a>\r\n            <a href=\"/MyUploads/?page=3\">3</a>\r\n          </section>\r\n          <button\r\n            className={`${styles.btn_load_more} button`}\r\n            onClick={loadMore}\r\n          >\r\n            Load More\r\n          </button>\r\n        </>\r\n      )} */}\r\n    </>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Confirmation_btn__lddQ2\",\"modal_big_box__style\":\"Confirmation_modal_big_box__style__a-CgK\",\"confirm__style\":\"Confirmation_confirm__style__ij0BH\",\"reject__style\":\"Confirmation_reject__style__erAtf\"};","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport BackDrop from \"./BackDrop\";\r\nimport styles from \"./Confirmation.module.css\";\r\n\r\nexport default function ModalConfirmation(props) {\r\n  const confirmation = (answer) => {\r\n    props.onClick(answer);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      {ReactDOM.createPortal(\r\n        <BackDrop onClick={props.onClick}></BackDrop>,\r\n        document.getElementById(\"backdrop-root\")\r\n      )}\r\n\r\n      <div className={styles.modal_big_box__style}>\r\n        <span>{props.title}</span>\r\n        <div>\r\n          <button\r\n            className={`${styles.btn} ${styles.confirm__style}`}\r\n            onClick={() => confirmation(true)}\r\n          >\r\n            Yes\r\n          </button>\r\n          <button className={`${styles.btn} ${styles.reject__style}`} onClick={() => confirmation(false)}>\r\n            No\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal_big_box__style\":\"SuccesfulSubmission_modal_big_box__style__CEnnF\",\"big_text__style\":\"SuccesfulSubmission_big_text__style__8ssXh\",\"text__style\":\"SuccesfulSubmission_text__style__SuHpA\",\"image__style\":\"SuccesfulSubmission_image__style__K3RZW\"};","import styles from \"./SuccesfulSubmission.module.css\";\r\nimport GreenMark from \"../../icons/green_check_mark.png\";\r\nexport default function SuccessfulSubmission(props) {\r\n  return (\r\n    <div onClick={() =>props.onClick(false)} className={styles.modal_big_box__style}>\r\n      <img className={styles.image__style} src={GreenMark} alt=\"check mark\"></img>\r\n      <span className={styles.big_text__style}>{props.title}</span>\r\n      <span className={styles.text__style}>\r\n       {props.text}\r\n      </span>\r\n    </div>\r\n  );\r\n}","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport BackDrop from \"./BackDrop\"\r\nimport SuccessfulSubmission from \"./SuccessfulSubmission\"\r\n\r\n\r\nexport default function ModalSubmitSucces (props) {\r\n   return(\r\n       <React.Fragment>\r\n           {ReactDOM.createPortal(<BackDrop onClick={ props.onClick}></BackDrop>,document.getElementById(\"backdrop-root\"))}\r\n           {ReactDOM.createPortal(<SuccessfulSubmission onClick={props.onClick} monsterStats={props.monsterStats} title={props.title} text={props.text}></SuccessfulSubmission>,document.getElementById(\"overlay-root\"))}\r\n       </React.Fragment>\r\n   )\r\n}"],"names":["Edit","props","className","styles","to","id","MyUploads","timer","useHttpClient","isLoading","error","sendRequest","clearError","login","useContext","LoginContext","useState","searchCondition","setSearchCondition","myMonsters","setMyMonsters","deleted","setDeleted","clickDelete","setDeleteClick","creatureToDelete","setCreatureToDelete","limit","navigate","useNavigate","now","Date","getTime","useEffect","fetchMonsters","process","JSON","stringify","user","userId","name","resData","startDelete","answer","Authorization","token","LoadingSpinner","as0verlay","ModalError","header","onClick","ModalConfirmation","title","ModalSubmitSucces","text","onKeyUp","event","clearTimeout","setTimeout","target","value","placeholder","ConteinerBox","map","monster","i","MonsterBattleBox","childrenTopAndBottom","battleSideBar","stats","modalStats","width","height","timeforvoting","votes","number","undefined","_id","creatureId","confirmation","ReactDOM","BackDrop","document","getElementById","SuccessfulSubmission","src","GreenMark","alt","monsterStats"],"sourceRoot":""}